(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){e.exports=a.p+"static/media/blank_profile_pic.9a344a6c.jpg"},115:function(e,t,a){e.exports=a(209)},120:function(e,t,a){},196:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(30),i=a.n(r),o=(a(120),a(8)),l=a(9),c=a(11),u=a(10),d=a(12),h=a(224),m=a(170),p=a(169),v=a(40),b=a(152),f=a(225),g=a(211),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=function(e){return function(){a.props.history.push("/".concat(e))}},a.logout=function(){return function(){window.localStorage.removeItem("key_credentials"),window.localStorage.removeItem("permissions"),a.props.history.push("/")}},a.state={activeItem:"home"},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(!this.props.show)return this.props.children;var e=window.localStorage.getItem("permissions"),t=null===e?[]:e.split(","),a=[];t.indexOf("view_attendanceitems")>=0&&a.push(s.a.createElement(v.a,{key:0,onClick:this.handleItemClick("attendance")},"Attendance")),t.indexOf("view_students")>=0&&a.push(s.a.createElement(v.a,{key:1,onClick:this.handleItemClick("students")},"Students")),(t.indexOf("view_group")>=0||t.indexOf("view_user")>=0)&&a.push(s.a.createElement(v.a,{key:2,onClick:this.handleItemClick("admin")},"Admin"));var n=s.a.createElement(b.a,null,a,s.a.createElement(v.a,{onClick:this.handleItemClick("reports")},"Reports"),s.a.createElement(v.a,{onClick:this.handleItemClick("alerts")},"Alerts"));return s.a.createElement("div",null,s.a.createElement(f.a,null,s.a.createElement(f.a.Header,null,s.a.createElement(f.a.Brand,{onClick:this.handleItemClick("attendance")},"Key"),s.a.createElement(f.a.Toggle,null)),s.a.createElement(f.a.Collapse,null,n,s.a.createElement(b.a,{pullRight:!0},s.a.createElement(v.a,{onClick:this.logout()},"Logout")))),this.props.children)}}]),t}(n.Component),k=Object(g.a)(y),w=a(2),O=a(212),E=a(213),j=a(214),C=a(227),S=a(215),_=a(216),D=a(228),I=a(18),x=a.n(I),N=a(24),M=a(110),A=a.n(M)()(),U="ec2-3-16-129-180.us-east-2.compute.amazonaws.com";function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=window.localStorage.getItem("key_credentials");if(null!==a)return fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"JWT "+a},body:JSON.stringify(t)}).then(function(e){return e.status>=400?(403===e.status&&(H(),A.push("/")),{error:e.status}):e.json()});A.push("/")}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=window.localStorage.getItem("key_credentials");if(null!==a)return fetch(e,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"JWT "+a},body:JSON.stringify(t)}).then(function(e){return e.status>=400?(403===e.status&&(H(),A.push("/")),{error:e.status}):e.json()});A.push("/")}function P(e){var t=window.localStorage.getItem("key_credentials");if(null!==t)return fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"JWT "+t}}).then(function(e){return e.status>=400?(403===e.status&&(H(),A.push("/")),{error:e.status}):e.json()});A.push("/")}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=window.localStorage.getItem("key_credentials");if(null!==a)return fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"JWT "+a},body:JSON.stringify(t)}).then(function(e){return e.status>=400?(403===e.status&&(H(),A.push("/")),{error:e.status}):{}});A.push("/")}function F(e,t){return e.ordering<t.ordering?-1:e.ordering>t.ordering?1:0}function H(){window.localStorage.removeItem("key_credentials"),window.localStorage.removeItem("permissions")}function W(e){return B.apply(this,arguments)}function B(){return(B=Object(N.a)(x.a.mark(function e(t){var n,s,r,i,o,l,c,u,d,h,m,p,v,b,f,g,y,k=arguments;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=k.length>1&&void 0!==k[1]?k[1]:null,s=t===n||null===n?"http://".concat(U,"/api/attendance/?day=").concat(t):"http://".concat(U,"/api/attendance/?startdate=").concat(t,"&enddate=").concat(n),e.next=4,P(s);case 4:return r=e.sent,e.next=7,P("http://".concat(U,"/api/students/"));case 7:return i=e.sent,e.next=10,P("http://".concat(U,"/api/activities/"));case 10:if((o=e.sent).sort(F),0!==r.length&&0!==o.length){e.next=14;break}return e.abrupt("return");case 14:for(l={},c=0;c<o.length;c++)o[c].is_showing&&(l[o[c].name]={id:o[c].activity_id,ordering:o[c].ordering,type:o[c].type});for(u={},c=0;c<r.length;c++)null==u["".concat(r[c].student_id).concat(r[c].date)]&&(u["".concat(r[c].student_id).concat(r[c].date)]={date:r[c].date,id:r[c].student_id}),null!==r[c].str_value?u["".concat(r[c].student_id).concat(r[c].date)][r[c].activity_id]=r[c].str_value:null!==r[c].num_value?u["".concat(r[c].student_id).concat(r[c].date)][r[c].activity_id]=r[c].num_value:u["".concat(r[c].student_id).concat(r[c].date)][r[c].activity_id]="Y";for(d=[],h=["Date","First","Last","Student Key"],c=0;c<o.length;c++)o[c].is_showing&&h.push(o[c].name);m=Object.keys(u),c=0;case 23:if(!(c<m.length)){e.next=55;break}p=[],v=0;case 26:if(!(v<i.length)){e.next=34;break}if(i[v].id!==u[m[c]].id){e.next=31;break}return p[1]=i[v].first_name,p[2]=i[v].last_name,e.abrupt("break",34);case 31:v++,e.next=26;break;case 34:v=0;case 35:if(!(v<h.length)){e.next=51;break}e.t0=h[v],e.next="Date"===e.t0?39:"First"===e.t0?41:"Last"===e.t0?42:"Student Key"===e.t0?43:45;break;case 39:return p[v]=u[m[c]].date,e.abrupt("break",48);case 41:case 42:return e.abrupt("break",48);case 43:return p[v]="N/A",e.abrupt("break",48);case 45:b=l[h[v]],console.log(u[m[c]][b.id]),void 0===u[m[c]][b.id]?"boolean"===b.type?p[v]="N":p[v]="N/A":p[v]=u[m[c]][b.id];case 48:v++,e.next=35;break;case 51:d.push(p);case 52:c++,e.next=23;break;case 55:f=a(177),g=f.unparse({fields:h,data:d}),(y=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(g)),y.setAttribute("download","Attendance_".concat(t===n||null===n?t:"".concat(t,"_").concat(n),".csv")),y.style.display="none",document.body.appendChild(y),y.click(),document.body.removeChild(y);case 64:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var V=function(e){var t=window.localStorage.getItem("key_credentials");return null===t?s.a.createElement(D.a,{to:"/"}):function(e){var t=e.split(".");return JSON.parse(atob(t[1]))}(t).exp<Date.now()/1e3?(H(),s.a.createElement(D.a,{to:"/"})):s.a.createElement(e,null)};function J(e){e<0&&(console.error("Expected daysAgo to be a value >= 0 but recieved ",e),e=-e);var t=new Date;return t.setDate(t.getDate()-e),t}function K(e){var t=e.getDay();return e.setDate(e.getDate()-t),e}function Y(e){var t=6-e.getDay();return e.setDate(e.getDate()+t),e}function z(e){return e.getFullYear().toString()+"-"+(e.getMonth()+1).toString()+"-"+e.getDate().toString()}var $=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",error:!1,firstLogin:!0},a.onUsernameChange=a.onUsernameChange.bind(Object(w.a)(Object(w.a)(a))),a.onPasswordChange=a.onPasswordChange.bind(Object(w.a)(Object(w.a)(a))),a.submit=a.submit.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){null!=localStorage.getItem("loggedIn")&&this.setState({firstLogin:!1})}},{key:"onUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"submit",value:function(e){var t=this;e.preventDefault(),fetch("http://".concat(U,"/api-token-auth/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})}).then(function(e){e.status>=400?t.setState({error:!0,username:"",password:""}):e.json().then(function(e){window.localStorage.setItem("key_credentials",e.token),window.localStorage.setItem("permissions",e.permissions),window.localStorage.setItem("loggedIn","true"),t.props.history.push("/attendance")})})}},{key:"render",value:function(){var e=this,t={textAlign:"center"};return null!==window.localStorage.getItem("key_credentials")?s.a.createElement(D.a,{to:"/attendance"}):s.a.createElement("div",{className:"center"},s.a.createElement("div",{className:"login-container"},s.a.createElement(O.a,null,s.a.createElement("h2",{style:t},"Key Attendance"),s.a.createElement("h4",{style:t},"Sign In"),s.a.createElement("form",{onSubmit:function(t){return e.submit(t)}},s.a.createElement(E.a,null,s.a.createElement(j.a,null,"Username"),s.a.createElement(C.a,{type:"text",value:this.state.username,placeholder:"Username",onChange:this.onUsernameChange}),s.a.createElement("br",null),s.a.createElement(j.a,null,"Password"),s.a.createElement(C.a,{type:"password",value:this.state.password,placeholder:"Password",onChange:this.onPasswordChange})),s.a.createElement(S.a,{block:!0,type:"submit",bsStyle:"primary"},"Continue"),s.a.createElement("br",null),this.state.error&&s.a.createElement(_.a,{bsStyle:"danger"},"Invalid username or password. Please try again."),!this.state.firstLogin&&s.a.createElement(_.a,{bsStyle:"info"},"You have been logged out.")))))}}]),t}(s.a.Component),G=a(32),X=a.n(G),q=a(26),Q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isChecked:!1,value:"",activityType:""},a.toggleCheckboxChange=function(){var e=a.props,t=e.toggleCheckbox,n=e.label;t(a.state.isChecked,n,a.state.value,a.state.activityType)},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(function(e){var a=Object(q.a)({},e);return a[t]=n,a})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({isChecked:this.props.checked,value:this.props.value,activityType:this.props.activityType})}},{key:"componentDidUpdate",value:function(){this.props.checked!==this.state.isChecked&&this.setState({isChecked:this.props.checked,value:this.props.value,activityType:this.props.activityType})}},{key:"render",value:function(){var e,t=this.props.label,a=this.state,n=a.isChecked,r=a.value,i=a.activityType,o=s.a.createElement("span",{className:"checkbox"},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",value:t,checked:n,onChange:this.toggleCheckboxChange}),t));return"boolean"===i?s.a.createElement("span",{className:"checkbox"},o):(e="string"===i?s.a.createElement("input",{type:"text",value:r,name:"value",disabled:n,onChange:this.handleChange}):s.a.createElement("input",{type:"number",value:r,disabled:n,name:"value",onChange:this.handleChange}),s.a.createElement("span",{className:"checkbox"},o,e))}}]),t}(n.Component),Z=a(217),ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggleCheckbox=function(e,t,n,s){var r=a.state,i=r.activities,o=r.studentID,l=r.numChecked,c=r.date,u=Object(w.a)(Object(w.a)(a)),d=i[t].activityID,h=i[t].attendanceItemID;if(e)1===l||L("http://".concat(U,"/api/attendance/?key=").concat(h)).then(function(e){"error"in e?u.setState({error:e.error}):(i[t].value="boolean"!==s&&"",u.setState({activities:i,numChecked:l-1}))});else{var m=new Date,p={student_id:o,activity_id:d,date:"".concat(c),time:"".concat(m.getHours(),":").concat(m.getMinutes()>=10?m.getMinutes():"0".concat(m.getMinutes()),":").concat(m.getSeconds()>=10?m.getSeconds():"0".concat(m.getSeconds()))};if("string"===s){if(""===n)return;p.str_value=n}else if("float"===s){if(""===n)return;p.num_value=n}T("http://".concat(U,"/api/attendance/"),p).then(function(e){"error"in e?u.setState({error:e.error}):("boolean"===s?i[t].value=!0:"string"===s?i[t].value=e.str_value:"float"===s&&(i[t].value=e.num_value),i[t].attendanceItemID=e.id,u.setState({activities:i,numChecked:l+1}))})}},a.createCheckboxes=function(){for(var e=a.state.activities,t=Object.keys(e),n=[],r=0;r<t.length;r++){var i=e[t[r]].type,o=e[t[r]].value,l=void 0;l="boolean"===i?o:""!==o,n.push(s.a.createElement(Q,{label:t[r],key:t[r],activityType:i,value:o,checked:l,toggleCheckbox:a.toggleCheckbox}))}return n},a.state={activities:{},studentID:0,error:"",numChecked:0,date:""},a.toggleCheckbox=a.toggleCheckbox.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){for(var e=0,t=this.props.row.activities,a=Object.keys(t),n=0;n<a.length;n++)"boolean"===t[a[n]].type?!0===t[a[n]].value&&e++:""!==t[a[n]].value&&e++;this.setState({activities:t,studentID:this.props.row.studentID,numChecked:e,date:this.props.row.date})}},{key:"render",value:function(){return s.a.createElement("span",{className:"container"},s.a.createElement("span",{className:"row"},s.a.createElement("span",{className:"col-sm-12"},this.state.numChecked<2&&s.a.createElement(Z.a,{bsStyle:"warning"},"At least one box must be checked"),""!==this.state.error&&s.a.createElement(Z.a,{bsStyle:"danger"},"Error ",this.state.error,": Your changes have not been saved. Please refresh and try again."),this.createCheckboxes())))}}]),t}(s.a.Component),te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={row:{}},a.deleteRow=a.deleteRow.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({row:this.props.row})}},{key:"componentDidUpdate",value:function(){this.props.row.studentID!==this.state.row.studentID&&this.setState({row:this.props.row})}},{key:"deleteRow",value:function(){for(var e=this.state.row,t=e.activities,a=Object.keys(t),n=[],s=0;s<a.length;s++)0!==t[a[s]].attendanceItemID&&n.push(t[a[s]].attendanceItemID);for(var r=0;r<n.length;r++)L("http://".concat(U,"/api/attendance/?key=").concat(n[r]));this.props.CustomFunction(e.studentID)}},{key:"render",value:function(){return s.a.createElement(S.a,{bsStyle:"danger",onClick:this.deleteRow},"Delete")}}]),t}(s.a.Component),ae=a(226),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={firstName:"",lastName:""},a.cancel=a.cancel.bind(Object(w.a)(Object(w.a)(a))),a.submit=a.submit.bind(Object(w.a)(Object(w.a)(a))),a.onFirstNameChange=a.onFirstNameChange.bind(Object(w.a)(Object(w.a)(a))),a.onLastNameChange=a.onLastNameChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"validateInput",value:function(){var e=this.state,t=e.firstName,a=e.lastName;return t.length>0&&a.length>0?"success":0===t.length&&0===a.length?null:"error"}},{key:"onFirstNameChange",value:function(e){this.setState({firstName:e.target.value})}},{key:"onLastNameChange",value:function(e){this.setState({lastName:e.target.value})}},{key:"cancel",value:function(){this.setState({firstName:"",lastName:""}),this.props.onSubmit()}},{key:"submit",value:function(){var e=this;T("http://".concat(U,"/api/students/"),{first_name:this.state.firstName,last_name:this.state.lastName}).then(function(t){"error"in t?console.log(t):(e.setState({firstName:"",lastName:""}),e.props.onSubmit(t))})}},{key:"render",value:function(){return s.a.createElement(ae.a,{show:this.props.show},s.a.createElement(ae.a.Header,null,s.a.createElement(ae.a.Title,null,"Create New Student")),s.a.createElement(ae.a.Body,null,s.a.createElement("form",null,s.a.createElement(E.a,{controlId:"addStudentForm",validationState:this.validateInput()},s.a.createElement(j.a,null,"First Name"),s.a.createElement(C.a,{type:"text",value:this.state.firstName,placeholder:"First",onChange:this.onFirstNameChange}),s.a.createElement(C.a.Feedback,null),s.a.createElement("br",null),s.a.createElement(j.a,null,"Last Name"),s.a.createElement(C.a,{type:"text",value:this.state.lastName,placeholder:"Last",onChange:this.onLastNameChange}),s.a.createElement(C.a.Feedback,null)))),s.a.createElement(ae.a.Footer,null,s.a.createElement(S.a,{onClick:this.cancel},"Cancel"),s.a.createElement(S.a,{onClick:this.submit,bsStyle:"primary"},"Create")))}}]),t}(s.a.Component),se=(a(196),a(218)),re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){var t=a.props.suggestions,n=e.currentTarget.value,s=t.filter(function(e){return!0===e.firstName.toLowerCase().startsWith(n.toLowerCase())||!0===e.lastName1.toLowerCase().startsWith(n.toLowerCase())||!0===e.lastName2.toLowerCase().startsWith(n.toLowerCase())||!0===(e.firstName.toLowerCase()+" "+e.lastName1.toLowerCase()+" ").startsWith(n.toLowerCase())||e.username&&!0===e.username.toLowerCase().startsWith(n.toLowerCase())});a.setState({activeSuggestion:0,filteredSuggestions:s,showSuggestions:!0,userInput:e.currentTarget.value})},a.onClick=function(e){a.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:e.currentTarget.innerText}),a.props.handler(e,e._targetInst.key),a.setState({userInput:""})},a.handleSubmit=function(e){e.preventDefault()},a.onKeyDown=function(e){var t=a.state,n=t.activeSuggestion,s=t.filteredSuggestions;if(13===e.keyCode&&-1===a.state.activeSuggestion)a.props.handler(e,a.state.selectedId),a.setState({userInput:""});else if(13===e.keyCode){if("object"===typeof s[n]){var r=s[n].firstName+" "+s[n].lastName1;a.setState({activeSuggestion:-1,showSuggestions:!1,userInput:r,selectedId:s[n].id})}}else if(38===e.keyCode){if(0===n)return;a.setState({activeSuggestion:n-1}),a.scrollUpHandler()}else if(40===e.keyCode){if(n===s.length-1)return;a.setState({activeSuggestion:n+1}),a.scrollDownHandler()}},a.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"scrollDownHandler",value:function(){var e=document.getElementsByClassName("suggestions"),t=document.getElementsByClassName("suggestion-active")[0].getBoundingClientRect().height,a=e[0].scrollTop,n=e[0].getBoundingClientRect().height,s=Math.round(Math.round(n/t)/2)*t;(this.state.activeSuggestion+2)*t>=a+n&&(e[0].scrollTop=e[0].scrollTop+s)}},{key:"scrollUpHandler",value:function(){var e=document.getElementsByClassName("suggestions"),t=document.getElementsByClassName("suggestion-active")[0].getBoundingClientRect().height,a=e[0].scrollTop,n=e[0].getBoundingClientRect().height,s=Math.round(Math.round(n/t)/2)*t;(this.state.activeSuggestion-1)*t<=a&&(e[0].scrollTop=e[0].scrollTop-s)}},{key:"render",value:function(){var e,t=this.onChange,a=this.onClick,r=this.onKeyDown,i=this.handleSubmit,o=this.state,l=o.activeSuggestion,c=o.filteredSuggestions,u=o.showSuggestions,d=o.userInput;return u&&d&&(e=c.length?s.a.createElement("div",{className:"suggestions"},c.map(function(e,t){var n;t===l&&(n="suggestion-active");var r="";return e.username&&(r=" | "+e.username),s.a.createElement("p",{className:n,key:e.id,onClick:a},e.firstName," ",e.lastName1," ",e.lastName2," ",r)})):s.a.createElement("div",{className:"no-suggestions"},s.a.createElement("em",null,"No suggestions."))),s.a.createElement(n.Fragment,null,s.a.createElement(se.a,{inline:!0,onSubmit:i},s.a.createElement(E.a,{controlId:"formInlineName"},s.a.createElement(j.a,null,"Search:")," ",s.a.createElement(C.a,{autoComplete:"off",type:"text",value:d,onChange:t,onKeyDown:r,placeholder:this.props.hasUsername?"Name or Username":"Name"}),e)," "))}}]),t}(n.Component);re.defaultProps={suggestions:[],handler:null};var ie=re,oe=a(219),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={buildingCSV:!1,students:[],activities:[],attendanceItems:[],suggestionsArray:[],attendance:[],showStudentModal:!1,date:"",prevDate:""},a.downloadCSV=a.downloadCSV.bind(Object(w.a)(Object(w.a)(a))),a.addStudent=a.addStudent.bind(Object(w.a)(Object(w.a)(a))),a.removeAttendanceRow=a.removeAttendanceRow.bind(Object(w.a)(Object(w.a)(a))),a.openModal=a.openModal.bind(Object(w.a)(Object(w.a)(a))),a.closeModal=a.closeModal.bind(Object(w.a)(Object(w.a)(a))),a.updateDate=a.updateDate.bind(Object(w.a)(Object(w.a)(a))),a.setDateToToday=a.setDateToToday.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({date:this.getCurrentDate()})}},{key:"componentDidUpdate",value:function(){this.state.date!==this.state.prevDate&&(this.setState({prevDate:this.state.date}),this.fetchAndBuild())}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getMonth()+1,a=e.getDate();return"".concat(e.getFullYear(),"-").concat(t>=10?t:"0".concat(t),"-").concat(a>=10?a:"0".concat(a))}},{key:"fetchAndBuild",value:function(){var e=Object(N.a)(x.a.mark(function e(){var t,a,n,s,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.date,e.prev=1,e.next=4,P("http://".concat(U,"/api/students/"));case 4:return a=e.sent,e.next=7,P("http://".concat(U,"/api/attendance/?day=").concat(t));case 7:return n=e.sent,e.next=10,P("http://".concat(U,"/api/activities/"));case 10:(s=(s=e.sent).filter(function(e){return!0===e.is_showing})).sort(F),r=this.makeSuggestionsArray(a),this.setState({suggestionsArray:r,students:a,activities:s,attendanceItems:n}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:this.buildSheet();case 21:case"end":return e.stop()}},e,this,[[1,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"buildSheet",value:function(){for(var e=this.state,t=e.activities,a=e.attendanceItems,n=e.students,s={},r=0;r<a.length;r++)if(-1!==a[r].activity_id){null==s["".concat(a[r].student_id)]&&(s["".concat(a[r].student_id)]={time:a[r].time});var i=!0;null!==a[r].num_value?i=a[r].num_value:null!==a[r].str_value&&(i=a[r].str_value),s["".concat(a[r].student_id)][a[r].activity_id]={value:i,itemID:a[r].id}}var o=[],l=Object.keys(s),c=["Name"];for(r=0;r<t.length;r++)c.push(t[r].name);for(r=0;r<l.length;r++){for(var u={},d=0;d<n.length;d++)if(n[d].id===parseInt(l[r])){u.name="".concat(n[d].first_name," ").concat(n[d].last_name),u.studentID=n[d].id;break}u.time=s[l[r]].time,u.activities={};for(d=0;d<t.length;d++){var h=void 0;h=s[l[r]][t[d].activity_id]?s[l[r]][t[d].activity_id].value:"boolean"!==t[d].type&&"",u.activities[t[d].name]={value:h,activityID:t[d].activity_id,type:t[d].type,attendanceItemID:s[l[r]][t[d].activity_id]?s[l[r]][t[d].activity_id].itemID:0}}o.push(u)}this.setState({attendance:o})}},{key:"addStudent",value:function(e,t){for(var a=this.state,n=a.students,s=a.attendance,r=a.activities,i=a.date,o=new Date,l=this,c=0;c<s.length;c++)if(parseInt(t)===s[c].studentID)return;T("http://".concat(U,"/api/attendance/"),{student_id:t,activity_id:7,date:"".concat(i),time:"".concat(o.getHours(),":").concat(o.getMinutes()>=10?o.getMinutes():"0".concat(o.getMinutes()),":").concat(o.getSeconds()>=10?o.getSeconds():"0".concat(o.getSeconds()))}).then(function(e){for(var a="",i=0;i<n.length;i++)if(n[i].id===parseInt(t)){a="".concat(n[i].first_name," ").concat(n[i].last_name);break}var o={};for(i=0;i<r.length;i++){var c=r[i].type,u="boolean"!==c&&"";o[r[i].name]={activityID:r[i].activity_id,attendanceItemID:0,value:u,type:c}}o.Key.value=!0,o.Key.attendanceItemID=e.id;var d={name:a,studentID:parseInt(t),time:e.time,activities:o};s.push(d),l.setState({attendance:s})})}},{key:"makeSuggestionsArray",value:function(e){var t,a,n,s=[];for(var r in e)e[r].last_name.includes(" ")?(t=(n=e[r].last_name.split(" "))[0],a=n[1]):(t=e[r].last_name,a=""),s.push({firstName:e[r].first_name,lastName1:t,lastName2:a,id:e[r].id});return s}},{key:"downloadCSV",value:function(){var e=Object(N.a)(x.a.mark(function e(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({buildingCSV:!0}),e.next=3,W("".concat(this.state.date));case 3:this.setState({buildingCSV:!1});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removeAttendanceRow",value:function(e){for(var t=this.state.attendance,a=0;a<t.length;a++)t[a].studentID===e&&t.splice(a,1);this.setState({attendance:t})}},{key:"openModal",value:function(){this.setState({showStudentModal:!0})}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.students,a=[];null!==e&&(t.push({first_name:e.first_name,last_name:e.last_name,id:e.id}),a=this.makeSuggestionsArray(t),this.addStudent(null,e.id)),this.setState({showStudentModal:!1,students:t,suggestions:a})}},{key:"updateDate",value:function(e){this.setState({date:e.target.value})}},{key:"setDateToToday",value:function(){new Date;this.setState({date:this.getCurrentDate()})}},{key:"render",value:function(){var e=this;if(window.localStorage.getItem("permissions").split(",").indexOf("view_attendanceitems")<0)return s.a.createElement(D.a,{to:"/attendance"});var t=this.state.attendance.map(function(t){return{name:t.name,time:t.time,activities:t.activities,studentID:t.studentID,date:e.state.date}}).sort(function(e,t){return t.time.localeCompare(e.time)}),a=[{accessor:"name",label:"Name",priorityLevel:1,position:1,minWidth:100,sortable:!0},{accessor:"time",label:"Check-in Time",priorityLevel:2,position:2,minWidth:100,sortable:!0},{accessor:"options",label:"Options",priorityLevel:3,position:3,CustomComponent:te,sortable:!1,minWidth:100},{accessor:"activities",label:"Activities",priorityLevel:4,position:4,minWidth:2e3,CustomComponent:ee,sortable:!1}],n=this.state.buildingCSV;return s.a.createElement("div",{className:"content"},s.a.createElement(ne,{show:this.state.showStudentModal,onSubmit:this.closeModal}),s.a.createElement("h1",null,"Attendance for ",this.state.date),s.a.createElement("br",null),s.a.createElement(oe.a,{style:{float:"right"}},s.a.createElement(S.a,{onClick:this.setDateToToday},"Go To Today"),s.a.createElement(S.a,{onClick:this.downloadCSV,disabled:n},n?"Downloading...":"Download"),s.a.createElement(S.a,{onClick:this.openModal},"New Student")),s.a.createElement(se.a,{inline:!0,style:{float:"right",paddingRight:"5px",paddingLeft:"5px"}},s.a.createElement(E.a,null,s.a.createElement(j.a,null,"Date:")," ",s.a.createElement(C.a,{onChange:this.updateDate,value:this.state.date,type:"date"}))),s.a.createElement(ie,{suggestions:this.state.suggestionsArray,handler:this.addStudent}),s.a.createElement("br",null),s.a.createElement(X.a,{rows:t,columns:a,column:"time",direction:"descending",showPagination:!0,callbacks:{options:this.removeAttendanceRow}}))}}]),t}(s.a.Component),ce=(a(22),a(31)),ue=(a(104),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={data:e.data,yArray:["Thu","Fri","Sat","Sun","Mon","Tue","Wed"]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"scaleWidth",value:function(e,t){return"weekly"===e?8*t:"annual"===e?3.2*t:void 0}},{key:"scaleHeight",value:function(e){return"weekly"===e?350:"annual"===e?200:void 0}},{key:"yReversed",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].y);return t=t.reverse()}},{key:"render",value:function(){var e=this.props.data,t=e.length,a=this.props.heatMapType;return s.a.createElement(ce.e,{width:this.scaleWidth(a,t),height:this.scaleHeight(a),margin:{top:30},xType:"ordinal",yType:"ordinal",yDomain:this.state.yArray.map(function(e){return e}).reverse()},s.a.createElement(ce.d,{orientation:"top"}),s.a.createElement(ce.f,{orientation:"left"}),s.a.createElement(ce.a,{className:"heatmap-series-example",colorRange:["#F5FBFD","teal"],data:e,style:{stroke:"black",strokeWidth:"1px",rectStyle:{rx:1,ry:1}}}))}}]),t}(n.Component));ue.defaultProps={data:[],heatMapType:[]};var de=ue,he=a(208),me=a(220),pe=a(112),ve=a.n(pe),be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).renderDisplayInfo=function(){var e=[],t=a.state.profileInfo;for(var n in t)if(1==t[n].colInfo.is_showing){var r="N/A";null!=t[n].value&&null!=t[n].value!=""&&(r=t[n].value);var i=t[n].colInfo.name+": "+r;e.push(s.a.createElement(he.a,{key:n},i))}return e},a.renderEditInfo=function(){var e=[];for(var t in a.state.profileInfo){var n=a.state.profileInfo[t].colInfo.name+": ";if(a.state.profileInfo[t].colInfo.is_showing){var r;switch(e.push(s.a.createElement(Z.a,{key:t+"label"},n)),a.state.profileInfo[t].type){case"str_value":r="text";break;case"int_value":r="int";break;case"date_value":r="date";break;case"time_value":r="time"}e.push(s.a.createElement(C.a,{key:n,type:r,id:t,defaultValue:a.state.profileInfo[t].value,onChange:function(e){return a.handleInfoChange(e,a.state)}})),e.push(s.a.createElement("br",{key:t+"break"}))}}return e},a.state={mode:"search"},a.edit=a.edit.bind(Object(w.a)(Object(w.a)(a))),a.handler=a.handler.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(x.a.mark(function e(){var t,a,n,s;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("http://".concat(U,"/api/students/"));case 3:return t=e.sent,a=this.makeSuggestionsArray(t),e.next=7,P("http://".concat(U,"/api/student_column/"));case 7:n=e.sent,s=this.parseCols(n),this.setState(function(e,t){return{mode:"search",suggestionsArray:a,studentColumnJson:n,profileInfo:s,id:null,uploadedPic:!1}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"makeSuggestionsArray",value:function(e){var t,a,n,s=[];for(var r in e)e[r].last_name.includes(" ")?(t=(n=e[r].last_name.split(" "))[0],a=n[1]):(t=e[r].last_name,a=""),s.push({firstName:e[r].first_name,lastName1:t,lastName2:a,id:e[r].id});return s}},{key:"parseCols",value:function(e){e.sort(this.sortCols);var t=[];for(var a in e)t[a]={studentInfoId:null,colInfo:e[a],value:null,type:null,updated:!1,patchPost:{student_id:null,info_id:parseInt(a)+1,int_value:null,str_value:null,bool_value:null,date_value:null,time_value:null,id:null,blob_value:null}};return t}},{key:"sortCols",value:function(e,t){return e.info_id>t.info_id?1:e.info_id<t.info_id?-1:0}},{key:"handler",value:function(e,t){var a={mode:"display",id:t,profileInfo:this.state.profileInfo};this.getStudentProfile(a)}},{key:"getStudentProfile",value:function(){var e=Object(N.a)(x.a.mark(function e(t){var a,n,s,r,i,o,l,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("http://".concat(U,"/api/students/?id=")+t.id);case 3:return a=e.sent,t.profileData=a,e.prev=5,e.next=8,P("http://".concat(U,"/api/student_info/?student_id=")+t.id);case 8:n=e.sent,t.profileInfo=this.parseStudentInfo(t,n),e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,P("http://".concat(U,"/api/student_column/"));case 16:s=e.sent,t.profileInfo=this.parseCols(s);case 18:r=K(r=J(30)),i=z(r),t.startDateString=i,o=J(0),l=Y(o),c=z(l),t.endDateString=c,this.setState(function(e,a){return t}),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(0),console.log(e.t1);case 32:case"end":return e.stop()}},e,this,[[0,29],[5,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"updateStudentInfo",value:function(){var e=Object(N.a)(x.a.mark(function e(){var t,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("http://127.0.0.1:8000/api/student_info?student_id="+this.state.id);case 2:t=e.sent,a=this.parseStudentInfo(this.state,t),this.setState(function(e,t){return{profileInfo:a}});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseStudentInfo",value:function(e,t){for(var a in e.profileInfo){e.profileInfo[a].patchPost.student_id=e.id,/varchar.*/g.test(e.profileInfo[a].colInfo.type)?e.profileInfo[a].type="str_value":e.profileInfo[a].type=e.profileInfo[a].colInfo.type+"_value"}for(var n in t){var s=t[n].info_id;e.profileInfo[s-1].patchPost=t[n],e.profileInfo[s-1].studentInfoId=t[n].id;var r=e.profileInfo[s-1].type;e.profileInfo[s-1].value=t[n][r]}return e.profileInfo}},{key:"edit",value:function(){this.setState({mode:"edit"})}},{key:"handleNameChange",value:function(e,t){var a=e.target.id;t.profileData[a]=e.target.value,this.setState(function(e,a){return t})}},{key:"handleInfoChange",value:function(e,t){var a=parseInt(e.target.id),n=e.target.value,s=t.profileInfo[a].type;t.profileInfo[a].updated=!0,""==n&&(n=null),t.profileInfo[a].value=n,t.profileInfo[a].patchPost[s]=n,this.setState(function(e,a){return t})}},{key:"handleSubmit",value:function(e,t){e.preventDefault(),R("http://".concat(U,"/api/students/"),t.profileData);var a=!1;for(var n in t.profileInfo){(n=t.profileInfo[n]).updated&&(n.studentInfoId?R("http://".concat(U,"/api/student_info/?id=")+n.studentInfoId,n.patchPost):(console.log(n.patchPost),T("http://".concat(U,"/api/student_info/"),n.patchPost),a=!0))}a&&this.updateStudentInfo();var s=!1,r=0;for(s=!1;!1===s;)t.suggestionsArray[r].id===t.profileData.id?(t.suggestionsArray[r]={firstName:t.profileData.first_name,id:t.profileData.id,lastName1:t.profileData.last_name,lastName2:""},s=!0):r++;t.id=t.profileData.id,t.mode="display",this.setState(function(e,a){return t})}},{key:"sameDay",value:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}},{key:"compareTime",value:function(e,t){return new Date(e)>new Date(t)}},{key:"readImage",value:function(e,t){var a=this;e.preventDefault(),console.log(e.target.files[0]);var n=new FileReader;n.onloadend=function(){a.state.profileInfo[5].updated=!0,a.state.profileInfo[5].patchPost.blob_value=n.result,a.setState(function(e,t){return{src:n.result,uploadedPic:!0}})},n.readAsDataURL(e.target.files[0])}},{key:"render",value:function(){var e=this;return window.localStorage.getItem("permissions").split(",").indexOf("view_students")<0?s.a.createElement(D.a,{to:"/attendance"}):"search"===this.state.mode?s.a.createElement("div",{className:"content"},s.a.createElement("h1",null," Key Students "),s.a.createElement("div",{className:"container-fluid no-padding"},s.a.createElement("div",{className:"row justify-content-start"},s.a.createElement("div",{className:"col-md-12 to-front top-bottom-padding"},s.a.createElement(ie,{suggestions:this.state.suggestionsArray,handler:this.handler}))))):"display"===this.state.mode?(this.state.uploadedPic?this.state.src:ve.a,s.a.createElement("div",{className:"content"},s.a.createElement("h1",null," Student Profile "),s.a.createElement("div",{className:"container-fluid no-padding"},s.a.createElement("div",{className:"row justify-content-start"},s.a.createElement("div",{className:"col-md-4 to-front top-bottom-padding"},s.a.createElement(ie,{suggestions:this.state.suggestionsArray,handler:this.handler})))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"container-fluid no-padding"},s.a.createElement("div",{className:"row justify-content-start"},s.a.createElement("div",{className:"col-md-2 to-front top-bottom-padding"},s.a.createElement(me.a,null,s.a.createElement(he.a,null,"Name: ",this.state.profileData.first_name," ",this.state.profileData.last_name),this.renderDisplayInfo(this.state.parsedInfo)),s.a.createElement(S.a,{variant:"primary",onClick:this.edit},"Edit")))))):"edit"===this.state.mode?s.a.createElement("div",{className:"content"},s.a.createElement("h1",null," Student Profile "),s.a.createElement("div",{className:"container-fluid no-padding"},s.a.createElement("div",{className:"row justify-content-start"},s.a.createElement("div",{className:"col-md-4 to-front top-bottom-padding"},s.a.createElement(ie,{suggestions:this.state.suggestionsArray,handler:this.handler})),s.a.createElement("div",{className:"col-md-8 top-bottom-padding"},s.a.createElement(se.a,{inline:!0,className:"col-md-8 top-bottom-padding",onSubmit:function(t){return e.handleSubmit(t,e.state)}},s.a.createElement(E.a,null,s.a.createElement(Z.a,null,"First Name: "),s.a.createElement(C.a,{type:"text",id:"first_name",defaultValue:this.state.profileData.first_name,onChange:function(t){return e.handleNameChange(t,e.state)}})," ",s.a.createElement("br",null),s.a.createElement(Z.a,null,"Last Name: "),s.a.createElement(C.a,{type:"text",id:"last_name",defaultValue:this.state.profileData.last_name,onChange:function(t){return e.handleNameChange(t,e.state)}})," ",s.a.createElement("br",null),this.renderEditInfo(this.state.parsedInfo),s.a.createElement("br",null),s.a.createElement(S.a,{variant:"primary",type:"submit"},"Submit"))))))):void 0}}]),t}(n.Component),fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={data:e.data},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.data;return s.a.createElement(ce.e,{xType:"ordinal",width:400,height:350,yDomain:[0,350]},s.a.createElement(ce.d,null),s.a.createElement(ce.f,null),s.a.createElement(ce.c,{data:e}),s.a.createElement(ce.b,{data:e.map(function(e){return Object(q.a)({},e,{label:e.y.toString()})}),labelAnchorX:"middle",labelAnchorY:"text-after-edge"}))}}]),t}(s.a.Component);fe.defaultProps={data:[]};var ge=fe,ye=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={startDateStringWeek:"",endDateStringWeek:"",startDateStringYear:"",endDateStringYear:"",byHourJson:[],byDayJson:[],byDayHeatMap:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(x.a.mark(function e(){var t,a,n,s,r,i,o,l,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="2018-02-08",a="2018-02-14",n=J(0),e.next=6,P("http://".concat(U,"/api/reports/byHourAttendance/?startdate=")+t+"&enddate="+a);case 6:return s=e.sent,console.log("By hour:",s),r=K(r=J(365)),i=z(r),o=Y(n),l=z(o),e.next=15,P("http://".concat(U,"/api/reports/byDayAttendance/?startdate=")+i+"&enddate="+l);case 15:return c=e.sent,e.next=18,this.formatDayData(c,i,l);case 18:return e.sent,e.next=21,this.formatHourData(s,t,a);case 21:e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}},e,this,[[0,24]])}));return function(){return e.apply(this,arguments)}}()},{key:"sameDay",value:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}},{key:"compareTime",value:function(e,t){return new Date(e)>new Date(t)}},{key:"formatDayData",value:function(e,t,a){var n,s=t,r=a,i=new Date(s.replace(/-/g,"/")),o=new Date(r.replace(/-/g,"/")),l=i,c=0,u=e;if(0==u.length){var d={date:s,daily_visits:0};u.push(d)}for(;0==this.compareTime(l,o);){if(c>u.length-1&&(c=u.length-1),n=new Date(u[c].date.replace(/-/g,"/")),0==this.sameDay(l,n)){var h={date:l.toISOString().slice(0,10),daily_visits:0};c!=u.length-1||this.compareTime(n,l)?u.splice(c,0,h):u.splice(c+1,0,h)}l.setDate(l.getDate()+1),c++}for(var m,p,v,b,f,g=[],y=[],k=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],w=0;w<u.length;w++)b=k[new Date(u[w].date.replace(/-/g,"/")).getDay()],m=Math.floor(w/7),(f=u[w].date.split(/\s*\-\s*/g))[0],f[1],f[2],v={x:m,y:b,color:u[w].daily_visits},y.push(v),p={y:u[w].daily_visits,x:b},g.push(p);return this.setState(function(e,n){return{startDateStringYear:t,endDateStringYear:a,byDayJson:g,byDayHeatMap:y}}),g}},{key:"formatHourData",value:function(e,t,a){var n,s,r=t,i=a,o=new Date(r.replace(/-/g,"/")),l=new Date(i.replace(/-/g,"/")),c=o,u=0,d=e,h=["14:00:00","15:00:00","16:00:00","17:00:00","18:00:00","19:00:00","20:00:00","21:00:00","22:00:00"];d=d.filter(function(e){return 1==h.includes(e.time)});var m=0,p=h[0];if(0==d.length){var v={date:r,time:h[0],count:0};d.push(v)}for(;0==this.compareTime(c,l);){if(u>d.length-1&&(u=d.length-1),n=new Date(d[u].date.replace(/-/g,"/")),s=d[u].time,0==this.sameDay(c,n)){var b={date:c.toISOString().slice(0,10),time:p,count:0};u!=d.length-1||this.compareTime(n,c)&&s>p?d.splice(u,0,b):d.splice(u+1,0,b)}else if(p!=s){b={date:c.toISOString().slice(0,10),time:p,count:0};u!=d.length-1||this.compareTime(n,c)&&s>p?d.splice(u,0,b):d.splice(u+1,0,b)}u++,p==h[h.length-1]&&(p="next day"),"next day"==p?(c.setDate(c.getDate()+1),p=h[0],m=0):p=h[++m]}for(var f,g,y,k,w=[],O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],E=0;E<d.length;E++)f=O[new Date(d[E].date.replace(/-/g,"/")).getDay()],y=d[E].time.slice(0,2),(k=d[E].date.split(/\s*\-\s*/g))[0],k[1],k[2],g={x:y,y:f,color:d[E].count},w.push(g);return this.setState(function(e,n){return{startDateStringWeek:t,endDateStringWeek:a,byHourJson:w}}),w}},{key:"render",value:function(){return s.a.createElement("div",{className:"container py-4"},s.a.createElement("h1",null," Reports "),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8 align-self-center"},s.a.createElement("h3",null," Hourly Attendance "),s.a.createElement(de,{data:this.state.byHourJson,heatMapType:"weekly"})),s.a.createElement("div",{className:"col-md-4 align-self-center"},s.a.createElement("h3",null," Daily Attendance "),s.a.createElement(ge,{data:this.state.byDayJson.slice(0,7)})," ")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h3",null," Annual Daily Attendance "),s.a.createElement(de,{data:this.state.byDayHeatMap,heatMapType:"annual"}))))}}]),t}(n.Component),ke=a(221),we=a(230),Oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(function(e){var a=Object(q.a)({},e);return a[t]=n,a})},a.handleActiveCheckbox=function(e){a.setState({is_active:!a.state.is_active})},a.state={username:"",first_name:"",last_name:"",password:"",confirmPassword:"",is_active:!0,error:!1,backendError:!1,radioOptions:[],show:!1,selectedOption:""},a.cancel=a.cancel.bind(Object(w.a)(Object(w.a)(a))),a.submit=a.submit.bind(Object(w.a)(Object(w.a)(a))),a.handleChange=a.handleChange.bind(Object(w.a)(Object(w.a)(a))),a.validateInput=a.validateInput.bind(Object(w.a)(Object(w.a)(a))),a.handleActiveCheckbox=a.handleActiveCheckbox.bind(Object(w.a)(Object(w.a)(a))),a.createRadioOptions=a.createRadioOptions.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){if(this.props.show!==this.state.show){var e=[],t=Object.keys(this.props.role_ids);for(var a in t)e.push({label:t[a],checked:!1});this.setState({radioOptions:e,show:this.props.show})}}},{key:"validateInput",value:function(){var e=this.state,t=e.username,a=e.password,n=e.confirmPassword;return t.length>0&&a.length>0&&a===n&&/^[a-z0-9.@+\-_]+$/i.test(t)&&this.state.selectedOption?"success":0===t.length&&0===a.length&&0===n.length?null:"error"}},{key:"cancel",value:function(){this.setState({username:"",first_name:"",last_name:"",password:"",confirmPassword:"",selectedOption:"",is_active:!0,error:!1,backendError:!1}),this.props.onSubmit()}},{key:"submit",value:function(){var e=this;if(e.setState({backendError:!1}),"success"===e.validateInput()){e.setState({error:!1});var t=[];t.push(e.props.role_ids[e.state.selectedOption]);var a={username:e.state.username,password:e.state.password,first_name:e.state.first_name,last_name:e.state.last_name,groups:t,is_active:e.state.is_active};T("http://".concat(U,"/api/users/"),a).then(function(t){"error"in t?e.setState({backendError:!0}):(e.setState({username:"",first_name:"",last_name:"",password:"",confirmPassword:"",selectedOption:"",is_active:!0,error:!1,backendError:!1}),e.props.onSubmit(t))})}else e.setState({error:!0})}},{key:"toggleRadioOptions",value:function(e){var t=this.state.radioOptions,a="";if(!t[e].checked)for(var n in a=t[e].label,t)n!==e&&(t[n].checked=!1);t[e].checked=!t[e].checked,this.setState({selectedOption:a,radioOptions:t})}},{key:"createRadioOptions",value:function(){var e=this;return this.state.radioOptions.map(function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"userRoles",value:t.label,checked:t.checked,onChange:e.toggleRadioOptions.bind(e,a),className:"form-check-input"}),t.label))})}},{key:"render",value:function(){return s.a.createElement(ae.a,{show:this.props.show},s.a.createElement(ae.a.Header,null,s.a.createElement(ae.a.Title,null,"Create New User")),s.a.createElement(ae.a.Body,null,s.a.createElement("form",null,s.a.createElement(E.a,{validationState:this.validateInput()},s.a.createElement(j.a,null,"Username"),s.a.createElement(C.a,{type:"text",name:"username",value:this.state.username,placeholder:"Username",onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement(j.a,null,"First Name"),s.a.createElement(C.a,{type:"text",name:"first_name",value:this.state.first_name,placeholder:"First Name",onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement(j.a,null,"Last Name"),s.a.createElement(C.a,{type:"text",name:"last_name",value:this.state.last_name,placeholder:"Last Name",onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement(j.a,null,"Password"),s.a.createElement(C.a,{type:"password",name:"password",value:this.state.password,placeholder:"Password",onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement(j.a,null,"Confirm Password"),s.a.createElement(C.a,{type:"password",name:"confirmPassword",value:this.state.confirmPassword||"",placeholder:"Confirm Password",onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement(j.a,null,"Active"),s.a.createElement(C.a,{type:"checkbox",checked:this.state.is_active,value:this.state.is_active,onChange:this.handleActiveCheckbox}),s.a.createElement(j.a,null,"User Roles"),this.createRadioOptions(),s.a.createElement(C.a.Feedback,null)))),s.a.createElement(ae.a.Footer,null,this.state.error&&s.a.createElement(_.a,{bsStyle:"danger"},"Invalid input. Please check your fields and try again."),this.state.backendError&&s.a.createElement(_.a,{bsStyle:"danger"},"Server error. Please try again."),s.a.createElement(S.a,{onClick:this.cancel},"Cancel"),s.a.createElement(S.a,{onClick:this.submit,bsStyle:"primary"},"Create")))}}]),t}(s.a.Component),Ee=a(62),je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(function(e){var a=Object(q.a)({},e);return a[t]=n,a})},a.handleActiveCheckbox=function(e){a.setState(function(e){var t=Object(q.a)({},e);return t.is_active=!a.state.is_active,t})},a.handlePasswordButton=function(e){a.setState({editPassword:!a.state.editPassword,password:"",confirmPassword:""})},a.state={row:{},show:!1,radioOptions:[],selectedOption:"",first_name:"",last_name:"",is_active:!0,password:"",confirmPassword:"",editPassword:!1,error:!1,backendError:!1},a.delete=a.delete.bind(Object(w.a)(Object(w.a)(a))),a.cancel=a.cancel.bind(Object(w.a)(Object(w.a)(a))),a.submit=a.submit.bind(Object(w.a)(Object(w.a)(a))),a.handleChange=a.handleChange.bind(Object(w.a)(Object(w.a)(a))),a.handlePasswordButton=a.handlePasswordButton.bind(Object(w.a)(Object(w.a)(a))),a.handleActiveCheckbox=a.handleActiveCheckbox.bind(Object(w.a)(Object(w.a)(a))),a.validateInput=a.validateInput.bind(Object(w.a)(Object(w.a)(a))),a.createRadioOptions=a.createRadioOptions.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"validateInput",value:function(){var e=this.state,t=e.password,a=e.confirmPassword;return e.editPassword?0===t.length||t!==a?"error":"success":null}},{key:"componentDidUpdate",value:function(){if(this.props.row!==this.state.row&&this.setState({row:this.props.row}),this.props.show!==this.state.show){var e=[],t=Object.keys(this.props.row.role_ids),a=this.props.row.role_ids,n="";for(var s in t){var r=t[s],i=this.props.row.groups.indexOf(a[r])>-1;i&&(n=r),e.push({label:r,checked:i})}this.setState(Object(Ee.a)({radioOptions:e,selectedOption:n,show:this.props.show,first_name:this.props.row.first_name,last_name:this.props.row.last_name,is_active:this.props.row.is_active},"selectedOption",n))}}},{key:"cancel",value:function(){this.setState({row:this.props.row,error:!1,backendError:!1}),this.props.onSubmit()}},{key:"delete",value:function(){var e=this;L("http://".concat(U,"/api/users/?id=").concat(e.state.row.id)).then(function(t){"error"in t?e.setState({backendError:!0}):e.props.onDelete(e.state.row.id)})}},{key:"submit",value:function(){var e=this;if(this.setState({backendError:!1}),"error"!==e.validateInput()){this.setState({error:!1});var t={id:e.state.row.id,first_name:e.state.first_name,last_name:e.state.last_name,is_active:e.state.is_active},a=[];a.push(e.props.row.role_ids[e.state.selectedOption]),t.groups=a,""!==e.state.password&&(t.password=e.state.password),R("http://".concat(U,"/api/users/"),t).then(function(t){"error"in t?e.setState({backendError:!0}):e.props.onSubmit(t)})}else this.setState({error:!0})}},{key:"toggleRadioOptions",value:function(e){var t=this.state,a=t.radioOptions,n=t.selectedOption;if(!a[e].checked)for(var s in n=a[e].label,a)s!==e&&(a[s].checked=!1);a[e].checked=!a[e].checked,this.setState({selectedOption:n,radioOptions:a})}},{key:"createRadioOptions",value:function(){var e=this;return this.state.radioOptions.map(function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"userRoles",value:t.label,checked:t.checked,onChange:e.toggleRadioOptions.bind(e,a),className:"form-check-input"}),t.label))})}},{key:"render",value:function(){var e,t=this;return e=this.state.editPassword?s.a.createElement("div",null,s.a.createElement(j.a,null,"Password"),s.a.createElement(C.a,{type:"password",name:"password",value:this.state.password,placeholder:"Password",onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement(j.a,null,"Confirm Password"),s.a.createElement(C.a,{type:"password",name:"confirmPassword",value:this.state.confirmPassword,placeholder:"Confirm Password",onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement(S.a,{bsStyle:"warning",onClick:this.handlePasswordButton},"Discard Password Changes"),s.a.createElement("br",null)):s.a.createElement(S.a,{bsStyle:"link",onClick:this.handlePasswordButton},"Change Password"),s.a.createElement(ae.a,{show:this.props.show},s.a.createElement(ae.a.Header,null,s.a.createElement(ae.a.Title,null,"Edit User")),s.a.createElement(ae.a.Body,null,s.a.createElement("form",null,s.a.createElement(E.a,{validationState:this.validateInput()},s.a.createElement(j.a,null,"Username"),s.a.createElement("p",null,this.state.row.username),s.a.createElement("br",null),s.a.createElement(j.a,null,"First Name"),s.a.createElement(C.a,{type:"text",name:"first_name",value:this.state.first_name||"",placeholder:"First Name",onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement(j.a,null,"Last Name"),s.a.createElement(C.a,{type:"text",name:"last_name",value:this.state.last_name||"",placeholder:"Last Name",onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement(j.a,null,"Active"),s.a.createElement(C.a,{type:"checkbox",checked:this.state.is_active||!1,value:this.state.is_active,onChange:this.handleActiveCheckbox}),s.a.createElement("br",null),s.a.createElement(j.a,null,"User Role"),this.createRadioOptions(),e,s.a.createElement(C.a.Feedback,null)))),s.a.createElement(ae.a.Footer,null,this.state.error&&s.a.createElement(_.a,{bsStyle:"danger"},"Invalid password. Please make sure they match and try again."),this.state.backendError&&s.a.createElement(_.a,{bsStyle:"danger"},"Server error. Please try again."),s.a.createElement(S.a,{onClick:this.cancel},"Cancel"),s.a.createElement(S.a,{onClick:this.submit,bsStyle:"primary"},"Save"),s.a.createElement(S.a,{onClick:function(){window.confirm("Are you sure you wish to delete this user?")&&t.delete()},bsStyle:"danger"},"Delete")))}}]),t}(s.a.Component),Ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={row:{},showUserModal:!1},a.openModal=a.openModal.bind(Object(w.a)(Object(w.a)(a))),a.closeModal=a.closeModal.bind(Object(w.a)(Object(w.a)(a))),a.closeModalDelete=a.closeModalDelete.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({row:this.props.row})}},{key:"openModal",value:function(){this.setState({showUserModal:!0})}},{key:"closeModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==t){e.props.CustomFunction(t)}this.setState({showUserModal:!1})}},{key:"closeModalDelete",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.setState({showUserModal:!1}),null!==t){e.props.CustomFunction(null,t)}}},{key:"componentDidUpdate",value:function(){this.props.row.id!==this.state.row.id&&this.setState({row:this.props.row})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(je,{show:this.state.showUserModal,row:this.props.row,onDelete:this.closeModalDelete,onSubmit:this.closeModal}),s.a.createElement(S.a,{bsStyle:"link",onClick:this.openModal},"Edit User"))}}]),t}(s.a.Component),Se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={row:{}},a.handleClick=a.handleClick.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({row:this.props.row})}},{key:"componentDidUpdate",value:function(){this.props.row.id!==this.state.row.id&&this.setState({row:this.props.row})}},{key:"handleClick",value:function(){var e=this;e.props.CustomFunction(e.state.row.id,e.state.row.username)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(S.a,{bsStyle:"link",onClick:this.handleClick},void 0===this.state.row.name||" "===this.state.row.name?"[User History]":this.state.row.name))}}]),t}(s.a.Component),_e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={history:[],username:""},a.closeHistoryView=a.closeHistoryView.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({history:this.props.history,username:this.props.username})}},{key:"closeHistoryView",value:function(){this.props.closeHistoryView()}},{key:"render",value:function(){var e=this.state.history.map(function(e){return{datetime:e.datetime,action:e.action,values:e.values}}).sort(function(e,t){return t.datetime.localeCompare(e.datetime)});return s.a.createElement("div",{className:"content"},s.a.createElement("h1",null,"User History: ",this.state.username),s.a.createElement("br",null),s.a.createElement(oe.a,{style:{float:"left"}},s.a.createElement(S.a,{bsStyle:"link",onClick:this.closeHistoryView},"Return to User Management")),s.a.createElement("br",null),s.a.createElement(X.a,{rows:e,columns:[{accessor:"datetime",label:"Date/Time",priorityLevel:1,position:1,minWidth:100,sortable:!0},{accessor:"action",label:"Action",priorityLevel:2,position:2,minWidth:100,sortable:!0},{accessor:"values",label:"Values",priorityLevel:3,position:3,minWidth:100,sortable:!1}],column:"datetime",direction:"descending",showPagination:!0}))}}]),t}(s.a.Component),De=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={showUserModal:!1,users:[],showingUsers:[],role_ids:{},role_names:{},suggestionsArray:[],showingAllUsers:!0,selectedUserHistory:[],selectedUsername:"",historyView:!1},a.openModal=a.openModal.bind(Object(w.a)(Object(w.a)(a))),a.closeModal=a.closeModal.bind(Object(w.a)(Object(w.a)(a))),a.updateRow=a.updateRow.bind(Object(w.a)(Object(w.a)(a))),a.getFormattedTime=a.getFormattedTime.bind(Object(w.a)(Object(w.a)(a))),a.handler=a.handler.bind(Object(w.a)(Object(w.a)(a))),a.showAllUsers=a.showAllUsers.bind(Object(w.a)(Object(w.a)(a))),a.getUserHistory=a.getUserHistory.bind(Object(w.a)(Object(w.a)(a))),a.closeHistoryView=a.closeHistoryView.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(x.a.mark(function e(){var t,a,n,s,r,i;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("http://".concat(U,"/api/users/"));case 3:return t=e.sent,a=this.makeSuggestionsArray(t),e.next=7,P("http://".concat(U,"/api/groups/"));case 7:for(i in n=e.sent,s={},r={},n)s[n[i].name]=n[i].id,r[n[i].id]=n[i].name;this.setState({showingUsers:t,users:t,role_ids:s,role_names:r,suggestionsArray:a}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(N.a)(x.a.mark(function e(){var t,a,n,s;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.refreshRoles){e.next=9;break}return e.next=3,P("http://".concat(U,"/api/groups/"));case 3:for(s in t=e.sent,a={},n={},t)a[t[s].name]=t[s].id,n[t[s].id]=t[s].name;this.setState({role_ids:a,role_names:n}),this.props.toggleRefreshRoles(!1);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"makeSuggestionsArray",value:function(e){var t,a,n,s=[];for(var r in e)e[r].last_name.includes(" ")?(t=(n=e[r].last_name.split(" "))[0],a=n[1]):(t=e[r].last_name,a=""),s.push({firstName:e[r].first_name,lastName1:t,lastName2:a,username:e[r].username,id:e[r].id});return s}},{key:"handler",value:function(e,t){var a=[];null!==t&&a.push(this.state.users.find(function(e){return e.id===parseInt(t)})),this.setState({showingUsers:a,showingAllUsers:!1})}},{key:"showAllUsers",value:function(){var e=this.state.users;this.setState({showingUsers:e,showingAllUsers:!0})}},{key:"openModal",value:function(){this.setState({showUserModal:!0})}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.users,a=[];if(null!==e){var n={id:e.id,username:e.username,first_name:e.first_name,last_name:e.last_name,groups:e.groups,last_login:e.last_login,is_active:e.is_active};t.push(n),a.push(n)}this.setState({showUserModal:!1,users:t,showingUsers:a,showingAllUsers:!1})}},{key:"checkmark",value:function(e){return e?"&#10003;":""}},{key:"getFormattedTime",value:function(e){if(null===e||0===e.length)return"";var t=e.split("T"),a=t[0],n=t[1].split(".")[0].split(":"),s=parseInt(n[0]),r=s>=12?"PM":"AM";return a+" "+(s=0===(s%=12)?12:s)+":"+n[1]+" "+r}},{key:"getUserRoleNames",value:function(e){var t=[];for(var a in e)t.push(this.state.role_names[e[a]]);return t.join(", ")}},{key:"updateRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.state.users,n=[],s=!1;if(null!==t)s=!0,n=a=a.filter(function(e){return e.id!==t});else{a=a.filter(function(t){return t.id!==e.id});var r={id:e.id,username:e.username,first_name:e.first_name,last_name:e.last_name,groups:e.groups,last_login:e.last_login,is_active:e.is_active};a.push(r),n.push(r)}this.setState({users:a}),this.setState({users:a,showingUsers:n,showingAllUsers:s})}},{key:"getUserHistory",value:function(e,t){var a=this;P("http://".concat(U,"/api/history/?user_id=").concat(e)).then(function(e){"error"in e?console.log(e):a.setState({selectedUserHistory:e,historyView:!0,selectedUsername:t})})}},{key:"closeHistoryView",value:function(){this.setState({historyView:!1})}},{key:"render",value:function(){var e=this,t=this.state.showingUsers.map(function(t){return{username:t.username,first_name:t.first_name,last_name:t.last_name,name:t.first_name+" "+t.last_name,roles:e.getUserRoleNames(t.groups),groups:t.groups,lastLogin:e.getFormattedTime(t.last_login),isActive:e.checkmark(t.is_active),id:t.id,is_active:t.is_active,role_ids:e.state.role_ids}}).sort(function(e,t){return e.username.localeCompare(t.username)}),a=[{accessor:"name",label:"Name",priorityLevel:1,position:1,CustomComponent:Se,minWidth:100,sortable:!0},{accessor:"username",label:"Username",priorityLevel:2,position:2,minWidth:100,sortable:!0},{accessor:"lastLogin",label:"Last Login",priorityLevel:3,position:3,minWidth:100,sortable:!0},{accessor:"roles",label:"User Roles",priorityLevel:4,position:4,sortable:!0,minWidth:30},{accessor:"isActive",label:"Active",priorityLevel:5,position:5,minWidth:20,sortable:!0},{accessor:"edit",label:"",priorityLevel:6,position:6,CustomComponent:Ce,minWidth:50,sortable:!1}],n={edit:this.updateRow,name:this.getUserHistory};return this.state.historyView?s.a.createElement(_e,{closeHistoryView:this.closeHistoryView,history:this.state.selectedUserHistory,username:this.state.selectedUsername}):s.a.createElement("div",{className:"content"},s.a.createElement(Oe,{role_ids:this.state.role_ids,show:this.state.showUserModal,onSubmit:this.closeModal}),s.a.createElement("h1",null,"User Management"),s.a.createElement("br",null),s.a.createElement(oe.a,{style:{float:"right"}},s.a.createElement(S.a,{className:this.state.showingAllUsers?"hidden":"",bsStyle:"link",onClick:this.showAllUsers},"Show All Users"),s.a.createElement(S.a,{onClick:this.openModal},"New User")),s.a.createElement(ie,{hasUsername:!0,suggestions:this.state.suggestionsArray,handler:this.handler}),s.a.createElement("br",null),s.a.createElement(X.a,{rows:t,columns:a,column:"username",direction:"descending",showPagination:!0,callbacks:n}))}}]),t}(s.a.Component),Ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(function(e){var a=Object(q.a)({},e);return a[t]=n,a})},a.state={show:!1,name:"",permission_ids:{},checkboxes:[]},a.cancel=a.cancel.bind(Object(w.a)(Object(w.a)(a))),a.submit=a.submit.bind(Object(w.a)(Object(w.a)(a))),a.handleChange=a.handleChange.bind(Object(w.a)(Object(w.a)(a))),a.createCheckboxes=a.createCheckboxes.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){if(this.props.show!==this.state.show){var e=[],t=this.props.permission_ids,a=Object.keys(t);for(var n in a){var s=a[n];e.push({label:s,checked:!1})}this.setState({permission_ids:this.props.permission_ids,checkboxes:e,show:this.props.show})}}},{key:"cancel",value:function(){this.setState({name:""}),this.props.onSubmit()}},{key:"submit",value:function(){var e=this,t={name:e.state.name},a=[],n=e.state.checkboxes;for(var s in n)n[s].checked&&a.push(e.state.permission_ids[n[s].label]);t.permissions=a,T("http://".concat(U,"/api/groups/"),t).then(function(t){"error"in t?console.log(t):(e.setState({name:""}),e.props.onSubmit(t))})}},{key:"toggleCheckbox",value:function(e){var t=this.state.checkboxes;t[e].checked=!t[e].checked,this.setState({checkboxes:t})}},{key:"createCheckboxes",value:function(){var e=this;return this.state.checkboxes.map(function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",checked:t.checked,onChange:e.toggleCheckbox.bind(e,a)}),t.label))})}},{key:"render",value:function(){return s.a.createElement(ae.a,{show:this.props.show},s.a.createElement(ae.a.Header,null,s.a.createElement(ae.a.Title,null,"Create New User Role")),s.a.createElement(ae.a.Body,null,s.a.createElement("form",null,s.a.createElement(E.a,null,s.a.createElement(j.a,null,"Role Name"),s.a.createElement(C.a,{type:"text",name:"name",value:this.state.name,placeholder:"Role Name",onChange:this.handleChange}),s.a.createElement("br",null),this.createCheckboxes(),s.a.createElement(C.a.Feedback,null)))),s.a.createElement(ae.a.Footer,null,s.a.createElement(S.a,{onClick:this.cancel},"Cancel"),s.a.createElement(S.a,{onClick:this.submit,bsStyle:"primary"},"Create")))}}]),t}(s.a.Component),xe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={show:!1,row:{},permission_ids:{},checkboxes:[]},a.delete=a.delete.bind(Object(w.a)(Object(w.a)(a))),a.cancel=a.cancel.bind(Object(w.a)(Object(w.a)(a))),a.submit=a.submit.bind(Object(w.a)(Object(w.a)(a))),a.createCheckboxes=a.createCheckboxes.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){if(this.props.row!==this.state.row&&this.setState({row:this.props.row}),this.props.show!==this.state.show){var e=[],t=Object.keys(this.props.row.permission_ids),a=this.props.row.permission_ids;for(var n in t){var s=t[n],r=this.props.row.permissions.indexOf(a[s])>-1;e.push({label:s,checked:r})}this.setState({checkboxes:e,permission_ids:this.props.row.permission_ids,show:this.props.show})}}},{key:"delete",value:function(){var e=this;L("http://".concat(U,"/api/groups/?id=").concat(e.state.row.id)).then(function(t){"error"in t?e.setState({backendError:!0}):e.props.onDelete(e.state.row.id)})}},{key:"cancel",value:function(){this.setState({row:this.props.row}),this.props.onSubmit()}},{key:"submit",value:function(){var e=this,t={name:e.state.row.name,id:e.state.row.id},a=[],n=e.state.checkboxes;for(var s in n)n[s].checked&&a.push(e.state.permission_ids[n[s].label]);t.permissions=a,R("http://".concat(U,"/api/groups/"),t).then(function(t){"error"in t?console.log(t):e.props.onSubmit(t)})}},{key:"toggleCheckbox",value:function(e){var t=this.state.checkboxes;t[e].checked=!t[e].checked,this.setState({checkboxes:t})}},{key:"createCheckboxes",value:function(){var e=this;return this.state.checkboxes.map(function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",checked:t.checked,disabled:"Admin"===e.state.row.name,onChange:e.toggleCheckbox.bind(e,a)}),t.label))})}},{key:"render",value:function(){var e=this;return s.a.createElement(ae.a,{show:this.props.show},s.a.createElement(ae.a.Header,null,s.a.createElement(ae.a.Title,null,"Edit User Role")),s.a.createElement(ae.a.Body,null,s.a.createElement("form",null,s.a.createElement(E.a,null,s.a.createElement(j.a,null,"User Role"),s.a.createElement("p",null,this.state.row.name),this.createCheckboxes(),s.a.createElement(C.a.Feedback,null)))),s.a.createElement(ae.a.Footer,null,s.a.createElement(S.a,{onClick:this.cancel},"Cancel"),s.a.createElement(S.a,{onClick:this.submit,bsStyle:"primary"},"Save"),s.a.createElement(S.a,{onClick:function(){window.confirm("Are you sure you wish to delete this role?")&&e.delete()},bsStyle:"danger",disabled:"Admin"===this.state.row.name},"Delete")))}}]),t}(s.a.Component),Ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={row:{},showModal:!1},a.openModal=a.openModal.bind(Object(w.a)(Object(w.a)(a))),a.closeModal=a.closeModal.bind(Object(w.a)(Object(w.a)(a))),a.closeModalDelete=a.closeModalDelete.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({row:this.props.row})}},{key:"openModal",value:function(){this.setState({showModal:!0})}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.row;null!==e&&(this.props.row.permissions=e.permissions,t.permissions=e.permissions),this.setState({showModal:!1,row:t})}},{key:"closeModalDelete",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.setState({showModal:!1}),null!==t){e.props.CustomFunction(t)}}},{key:"componentDidUpdate",value:function(){this.props.row.id!==this.state.row.id&&this.setState({row:this.props.row})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(xe,{show:this.state.showModal,row:this.props.row,onDelete:this.closeModalDelete,onSubmit:this.closeModal}),s.a.createElement(S.a,{bsStyle:"link",onClick:this.openModal},"Edit User Role"))}}]),t}(s.a.Component),Me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={showModal:!1,roles:[],permissions_list:{},permission_ids:{}},a.openModal=a.openModal.bind(Object(w.a)(Object(w.a)(a))),a.closeModal=a.closeModal.bind(Object(w.a)(Object(w.a)(a))),a.deleteRole=a.deleteRole.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(x.a.mark(function e(){var t,a,n,s;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("http://".concat(U,"/api/groups/"));case 3:return t=e.sent,e.next=6,P("http://".concat(U,"/api/permissions/"));case 6:for(s in a=e.sent,n={},a)n[a[s].name]=a[s].id;this.setState({roles:t,permissions_list:a,permission_ids:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"openModal",value:function(){this.setState({showModal:!0})}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.roles;null!==e&&(t.push({id:e.id,name:e.name,permissions:e.permissions}),this.props.toggleRefreshRoles(!0)),this.setState({showModal:!1,roles:t})}},{key:"deleteRole",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.roles;null!==e&&(t=t.filter(function(t){return t.id!==e}),this.props.toggleRefreshRoles(!0)),this.setState({roles:t})}},{key:"render",value:function(){var e=this,t=this.state.roles.map(function(t){return{name:t.name,permissions:t.permissions,id:t.id,permission_ids:e.state.permission_ids}}).sort(function(e,t){return e.name.localeCompare(t.name)}),a=[{accessor:"name",label:"Role",priorityLevel:1,position:1,minWidth:50,sortable:!0},{accessor:"edit",label:"",priorityLevel:2,position:5,CustomComponent:Ne,minWidth:50,sortable:!1}],n={edit:this.deleteRole};return s.a.createElement("div",{className:"content"},s.a.createElement("h1",null,"User Roles"),s.a.createElement(oe.a,{style:{float:"right"}},s.a.createElement(S.a,{onClick:this.openModal},"New User Role")),s.a.createElement(Ie,{permission_ids:this.state.permission_ids,show:this.state.showModal,onSubmit:this.closeModal}),s.a.createElement(X.a,{rows:t,columns:a,column:"name",direction:"descending",showPagination:!0,callbacks:n}))}}]),t}(s.a.Component),Ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={row:{}},a.handleButtonClick=a.handleButtonClick.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({row:this.props.row})}},{key:"handleButtonClick",value:function(){var e=this;e.props.CustomFunction(e.state.row.ordering,"down")}},{key:"componentDidUpdate",value:function(){this.props.row.activity_id!==this.state.row.activity_id&&this.setState({row:this.props.row})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(S.a,{onClick:this.handleButtonClick},"Shift Down"))}}]),t}(s.a.Component),Ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={row:{}},a.handleButtonClick=a.handleButtonClick.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({row:this.props.row})}},{key:"handleButtonClick",value:function(){var e=this;e.props.CustomFunction(e.state.row.ordering,"up")}},{key:"componentDidUpdate",value:function(){this.props.row.activity_id!==this.state.row.activity_id&&this.setState({row:this.props.row})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(S.a,{bsStyle:"primary",onClick:this.handleButtonClick},"Shift Up"))}}]),t}(s.a.Component),Te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggleCheckbox=function(){var e=Object(w.a)(Object(w.a)(a)),t={activity_id:e.state.row.activity_id,is_showing:!e.state.checked};R("http://".concat(U,"/api/activities/"),t).then(function(t){if("error"in t)console.log(t);else{e.props.CustomFunction(t)}})},a.state={row:{},checked:!1},a.toggleCheckbox=a.toggleCheckbox.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({row:this.props.row,checked:this.props.row.is_showing})}},{key:"componentDidUpdate",value:function(){this.props.row.is_showing!==this.state.checked&&this.setState({checked:this.props.row.is_showing})}},{key:"render",value:function(){return s.a.createElement("span",{className:"checkbox"},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",checked:this.state.checked,onChange:this.toggleCheckbox})))}}]),t}(n.Component),Re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(function(e){var a=Object(q.a)({},e);return a[t]=n,a})},a.handleCheckbox=function(e){a.setState({inUse:!a.state.inUse})},a.state={show:!1,name:"",type:"boolean",inUse:!0,lastOrdering:0,error:!1,errorMsg:""},a.cancel=a.cancel.bind(Object(w.a)(Object(w.a)(a))),a.submit=a.submit.bind(Object(w.a)(Object(w.a)(a))),a.handleChange=a.handleChange.bind(Object(w.a)(Object(w.a)(a))),a.validateInput=a.validateInput.bind(Object(w.a)(Object(w.a)(a))),a.handleCheckbox=a.handleCheckbox.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.props.show!==this.state.show&&this.setState({show:this.props.show,lastOrdering:this.props.lastOrdering})}},{key:"validateInput",value:function(){var e=this.state.name;return e.length>0&&/^[a-z0-9.@+\-_]+$/i.test(e)&&this.state.type?"success":0===e.length?null:"error"}},{key:"cancel",value:function(){this.setState({name:"",type:"boolean",inUse:!0,lastOrdering:0,error:!1,errorMsg:""}),this.props.onSubmit()}},{key:"submit",value:function(){var e=this;if("success"===e.validateInput()){var t={name:e.state.name,ordering:e.state.lastOrdering+1,is_showing:e.state.inUse,type:e.state.type};T("http://".concat(U,"/api/activities/"),t).then(function(t){if("error"in t){if(400===t.error){return void e.setState({error:!0,errorMsg:"Creation failed due to invalid input. Please check your fields and try again"})}}else e.setState({name:"",type:"boolean",inUse:!0,lastOrdering:0,error:!1,errorMsg:""}),e.props.onSubmit(t)})}else{e.setState({error:!0,errorMsg:"Invalid input. Please check your fields and try again."})}}},{key:"render",value:function(){return s.a.createElement(ae.a,{show:this.props.show},s.a.createElement(ae.a.Header,null,s.a.createElement(ae.a.Title,null,"Create New Activity")),s.a.createElement(ae.a.Body,null,s.a.createElement("form",null,s.a.createElement(E.a,{validationState:this.validateInput()},s.a.createElement(j.a,null,"Activity Name"),s.a.createElement(C.a,{type:"text",name:"name",value:this.state.name,placeholder:"Activity Name",onChange:this.handleChange}),s.a.createElement("br",null),s.a.createElement(C.a,{componentClass:"select",name:"type",onChange:this.handleChange,defaultValue:this.state.type},s.a.createElement("option",{value:"boolean"},"Checkbox"),s.a.createElement("option",{value:"string"},"Text"),s.a.createElement("option",{value:"float"},"Number")),s.a.createElement("br",null),s.a.createElement(j.a,null,"Currently in Use"),s.a.createElement(C.a,{type:"checkbox",checked:this.state.inUse,value:this.state.inUse,onChange:this.handleCheckbox}),s.a.createElement(C.a.Feedback,null)))),s.a.createElement(ae.a.Footer,null,this.state.error&&s.a.createElement(_.a,{bsStyle:"danger"},this.state.errorMsg),s.a.createElement(S.a,{onClick:this.cancel},"Cancel"),s.a.createElement(S.a,{onClick:this.submit,bsStyle:"primary"},"Create")))}}]),t}(s.a.Component),Pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(function(e){var a=Object(q.a)({},e);return a[t]=n,a})},a.state={activities:[],showModal:!1},a.patchActivityOrder=a.patchActivityOrder.bind(Object(w.a)(Object(w.a)(a))),a.createNewActivity=a.createNewActivity.bind(Object(w.a)(Object(w.a)(a))),a.swapOrder=a.swapOrder.bind(Object(w.a)(Object(w.a)(a))),a.updateCheckbox=a.updateCheckbox.bind(Object(w.a)(Object(w.a)(a))),a.getDataTypeName=a.getDataTypeName.bind(Object(w.a)(Object(w.a)(a))),a.handleChange=a.handleChange.bind(Object(w.a)(Object(w.a)(a))),a.openModal=a.openModal.bind(Object(w.a)(Object(w.a)(a))),a.closeModal=a.closeModal.bind(Object(w.a)(Object(w.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("http://".concat(U,"/api/activities/"));case 3:t=e.sent,this.setState({activities:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"createNewActivity",value:function(e){return{activity_id:e.activity_id,type:e.type,ordering:e.ordering,is_showing:e.is_showing,name:e.name}}},{key:"patchActivityOrder",value:function(e,t){var a=this.state.activities,n=this,s={activity_id1:e,activity_id2:t};R("http://".concat(U,"/api/activities/"),s).then(function(e){if("error"in e[0]||"error"in e[1])console.log(e);else{var t=e[0],s=e[1];t&&s&&((a=(a=a.filter(function(e){return e.activity_id!==t.activity_id})).filter(function(e){return e.activity_id!==s.activity_id})).push(n.createNewActivity(t)),a.push(n.createNewActivity(s))),n.setState({activities:a})}})}},{key:"swapOrder",value:function(e,t){var a=this.state.activities;if(null!==e&&"up"===t&&e>1){var n=a.find(function(t){return t.ordering===e}),s=a.find(function(t){return t.ordering===e-1});this.patchActivityOrder(n.activity_id,s.activity_id)}else if(null!==e&&"down"===t&&e<a.length){var r=a.find(function(t){return t.ordering===e}),i=a.find(function(t){return t.ordering===e+1});this.patchActivityOrder(r.activity_id,i.activity_id)}}},{key:"updateCheckbox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.activities;null!==e&&(t=t.filter(function(t){return t.activity_id!==e.activity_id})).push(this.createNewActivity(e)),this.setState({activities:t})}},{key:"getDataTypeName",value:function(e){return"boolean"===e?"Checkbox":"string"===e?"Text":"float"===e?"Number":e}},{key:"openModal",value:function(){this.setState({showModal:!0})}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.activities;null!==e&&t.push(this.createNewActivity(e)),this.setState({showModal:!1,activities:t})}},{key:"render",value:function(){var e=this,t=this.state.activities.map(function(t){return{name:t.name,ordering:t.ordering,is_showing:t.is_showing,activity_id:t.activity_id,type:t.type,type_name:e.getDataTypeName(t.type)}}).sort(function(e,t){return e.ordering-t.ordering}),a=[{accessor:"name",label:"Activity",priorityLevel:1,position:1,minWidth:100,sortable:!1},{accessor:"type_name",label:"Data Type",priorityLevel:2,position:2,minWidth:100,sortable:!1},{accessor:"is_showing",label:"Currently in Use",priorityLevel:3,position:3,CustomComponent:Te,minWidth:50,sortable:!1},{accessor:"up",label:"",priorityLevel:4,position:4,CustomComponent:Ue,minWidth:100,sortable:!1},{accessor:"down",label:"",priorityLevel:5,position:5,CustomComponent:Ae,minWidth:50,sortable:!1}],n={up:this.swapOrder,down:this.swapOrder,is_showing:this.updateCheckbox};return s.a.createElement("div",{className:"content"},s.a.createElement("h1",null,"Attendance Activities"),s.a.createElement(oe.a,{style:{float:"right"}},s.a.createElement(S.a,{onClick:this.openModal},"New Activity")),s.a.createElement(Re,{show:this.state.showModal,lastOrdering:this.state.activities.length,onSubmit:this.closeModal}),s.a.createElement(X.a,{rows:t,columns:a,column:"name",direction:"descending",showPagination:!0,callbacks:n}))}}]),t}(s.a.Component),Le=function(e){function t(e,a){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e,a))).handleSelect=n.handleSelect.bind(Object(w.a)(Object(w.a)(n))),n.toggleRefreshRoles=n.toggleRefreshRoles.bind(Object(w.a)(Object(w.a)(n))),n.state={refreshRoles:!1,key:1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleSelect",value:function(e){this.setState({key:e})}},{key:"toggleRefreshRoles",value:function(e){this.setState({refreshRoles:e})}},{key:"render",value:function(){return s.a.createElement(ke.a,{activeKey:this.state.key,onSelect:this.handleSelect,id:"admin-tabs"},s.a.createElement(we.a,{eventKey:1,title:"User Management"},s.a.createElement(De,{toggleRefreshRoles:this.toggleRefreshRoles,refreshRoles:this.state.refreshRoles})),s.a.createElement(we.a,{eventKey:2,title:"User Roles"},s.a.createElement(Me,{toggleRefreshRoles:this.toggleRefreshRoles})),s.a.createElement(we.a,{eventKey:3,title:"Attendance Activities"},s.a.createElement(Pe,null)),s.a.createElement(we.a,{eventKey:4,title:"Student Profile Fields"},"Tab 4 content"))}}]),t}(s.a.Component),Fe=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=window.localStorage.getItem("permissions").split(",");return e.indexOf("view_user")>=0||e.indexOf("view_group")>=0?s.a.createElement("div",{className:"content"},s.a.createElement(Le,null)):s.a.createElement(D.a,{to:"/attendance"})}}]),t}(s.a.Component),He=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"content"},s.a.createElement("p",null,"Alerts"))}}]),t}(s.a.Component),We=a(223),Be=a(222),Ve=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"content"},s.a.createElement(Be.a,null,s.a.createElement("div",{className:"content-jumbotron"},s.a.createElement("h1",null,"404 ",s.a.createElement("small",null,"page not found")),s.a.createElement("p",null,"The page you're looking for has mysteriously disappeared! Try navigating from ",s.a.createElement(We.a,{to:"/attendance"},"the home page")," to take another look."))))}}]),t}(s.a.Component),Je=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(k,{show:"/"!==this.props.location.pathname},s.a.createElement(h.a,null,s.a.createElement(m.a,{exact:!0,path:"/",component:$}),s.a.createElement(m.a,{exact:!0,path:"/attendance",render:function(){return V(le)}}),s.a.createElement(m.a,{path:"/students",component:function(e){return V(be)}})," ",s.a.createElement(m.a,{path:"/reports",render:function(){return V(ye)}}),s.a.createElement(m.a,{path:"/admin",render:function(){return V(Fe)}}),s.a.createElement(m.a,{path:"/alerts",render:function(){return V(He)}}),s.a.createElement(m.a,{render:function(){return V(Ve)}})))}}]),t}(s.a.Component),Ke=Object(p.a)(Je),Ye=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Ke,{history:A}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ze=a(229);i.a.render(s.a.createElement(ze.a,null,s.a.createElement(Ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[115,2,1]]]);
//# sourceMappingURL=main.bfba0cc3.chunk.js.map