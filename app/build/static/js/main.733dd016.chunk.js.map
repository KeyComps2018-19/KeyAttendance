{"version":3,"sources":["components/Layout.js","views/Login.js","components/Checkbox.js","components/Helpers.js","components/Checkboxes.js","components/AttendanceOptions.js","components/AddStudentModal.js","components/Autocomplete.js","views/Attendance.js","views/Students.js","views/Reports.js","views/Admin.js","views/Alerts.js","views/NotFound.js","components/Router.js","App.js","serviceWorker.js","index.js"],"names":["Layout","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleItemClick","name","history","push","concat","logout","window","localStorage","removeItem","state","activeItem","show","react_default","a","createElement","Navbar","Header","Brand","onClick","Toggle","Collapse","Nav","NavItem","pullRight","children","Component","withRouter","Login","username","password","error","firstLogin","onUsernameChange","bind","assertThisInitialized","onPasswordChange","submit","getItem","setState","e","target","value","_this2","fetch","method","headers","Content-Type","body","JSON","stringify","then","response","status","json","result","setItem","token","partitions","split","tokenData","parse","atob","is_staff","centerStyle","textAlign","Redirect","to","className","Well","style","FormGroup","ControlLabel","FormControl","type","placeholder","onChange","Button","block","bsStyle","Alert","React","Checkbox","isChecked","toggleCheckboxChange","_this$props","toggleCheckbox","label","_ref","checked","attendanceItemID","createBrowserHistory","httpPost","url","arguments","length","undefined","Authorization","httpGet","httpDelete","compareActivities","b","ordering","_callee","startDate","endDate","attendanceData","studentData","activityData","activities","i","entries","sheet","columns","keys","row","j","papa","csvString","element","_args","regenerator_default","wrap","_context","prev","next","sent","sort","abrupt","is_showing","id","activity_id","student_id","date","first_name","last_name","t0","require","unparse","fields","data","document","setAttribute","encodeURIComponent","display","appendChild","click","removeChild","stop","checkCredentials","Checkboxes","_this$state","studentID","numChecked","self","activityID","today","Date","getFullYear","getMonth","getDate","time","getHours","getMinutes","getSeconds","createCheckboxes","boxes","components_Checkbox","key","Label","AttendanceOptions","deleteRow","ids","CustomFunction","AddStudentModal","firstName","lastName","cancel","onFirstNameChange","onLastNameChange","onSubmit","console","log","Modal","Title","Body","controlId","validationState","validateInput","Feedback","Footer","Autocomplete","suggestions","userInput","currentTarget","filteredSuggestions","filter","suggestion","toLowerCase","startsWith","lastName1","lastName2","toString","activeSuggestion","showSuggestions","innerText","handler","_targetInst","handleSubmit","preventDefault","onKeyDown","keyCode","selectedId","fullName","scrollUpHandler","scrollDownHandler","dropdown","getElementsByClassName","itemHeight","getBoundingClientRect","height","scrollPos","scrollTop","dropdownHeight","halfway","Math","round","suggestionsListComponent","_this$state2","map","index","react","Form","inline","autoComplete","defaultProps","Attendance","buildingCSV","students","attendanceItems","suggestionsArray","attendance","showStudentModal","downloadCSV","addStudent","removeAttendanceRow","openModal","closeModal","makeSuggestionsArray","buildSheet","itemID","parseInt","activityList","lastHolder1","lastHolder2","tempArray","array","object","includes","downloadAttendanceCSV","splice","student","rows","item","localeCompare","accessor","priorityLevel","position","minWidth","sortable","CustomComponent","components_AddStudentModal","ButtonToolbar","float","disabled","src_components_Autocomplete","build_default","column","direction","showPagination","callbacks","options","Students","mode","studentsJson","profileData","previousState","currentProps","studentId","getStudentProfile","studentProfileJson","_context2","first_attendance","number_visits","Reports","Admin","Alerts","NotFound","Jumbotron","Link","Router","components_Layout","location","pathname","Switch","Route","exact","path","component","render","App","components_Router","Boolean","hostname","match","ReactDOM","BrowserRouter","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.733dd016.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Navbar, Nav, NavItem } from 'react-bootstrap';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass Layout extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state ={\r\n        activeItem: 'home'\r\n      }\r\n  }\r\n\r\n  handleItemClick = (name) => () => {\r\n    this.props.history.push(`/${name}`);\r\n  }\r\n\r\n  logout = () => () => {\r\n    window.localStorage.removeItem(\"key_credentials\");\r\n    window.localStorage.removeItem(\"isAdmin\")\r\n    this.props.history.push(`/`)\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.show) { return this.props.children }\r\n    return (\r\n      <div>\r\n        <Navbar>\r\n            <Navbar.Header>\r\n                <Navbar.Brand onClick={this.handleItemClick('attendance')}>\r\n                    Key\r\n                </Navbar.Brand>\r\n                <Navbar.Toggle />\r\n            </Navbar.Header>\r\n            <Navbar.Collapse>\r\n              <Nav>\r\n                  <NavItem onClick={this.handleItemClick('attendance')}>Attendance</NavItem>\r\n                  <NavItem onClick={this.handleItemClick('students')}>Students</NavItem>\r\n                  <NavItem onClick={this.handleItemClick('reports')}>Reports</NavItem>\r\n                  <NavItem onClick={this.handleItemClick('alerts')}>Alerts</NavItem>\r\n                  <NavItem onClick={this.handleItemClick('admin')}>Admin</NavItem>\r\n              </Nav>\r\n              <Nav pullRight>\r\n                <NavItem onClick={this.logout()}>Logout</NavItem>\r\n              </Nav>\r\n            </Navbar.Collapse>\r\n        </Navbar>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLayout.propTypes = {\r\n  history: PropTypes.shape({\r\n      push: PropTypes.func.isRequired,\r\n  }),\r\n};\r\n\r\nexport default withRouter(Layout);\r\n","import React from 'react';\r\nimport { FormGroup, ControlLabel, FormControl, Well, Button, Alert } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass Login extends React.Component {\r\n\r\n    constructor(props) {\r\n\t\tsuper(props)\r\n\t\t\r\n        this.state = {\r\n\t\t\tusername: \"\",\r\n            password:\"\",\r\n            error: false,\r\n            firstLogin: true\r\n\t\t}\r\n\t\t\r\n\t\tthis.onUsernameChange = this.onUsernameChange.bind(this);\r\n        this.onPasswordChange = this.onPasswordChange.bind(this);\r\n        this.submit = this.submit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (localStorage.getItem('loggedIn') != null) {\r\n            this.setState({firstLogin: false});\r\n        }\r\n    }\r\n\r\n    onUsernameChange(e) {\r\n\t\tthis.setState({username: e.target.value})\r\n\t}\r\n\r\n\tonPasswordChange(e) {\r\n\t\tthis.setState({password: e.target.value})\r\n    }\r\n    \r\n    submit() {\r\n        // Submit username and password to backend\r\n        fetch('http://127.0.0.1:8000/api-token-auth/', {\r\n            method: \"POST\", \r\n            headers:{'Content-Type':'application/json'}, \r\n            body: JSON.stringify({username: this.state.username, password: this.state.password})\r\n        }).then(response => {\r\n            if (response.status >= 400) {\r\n                // If we get a negative response, display some sort of error and wipe the fields.\r\n                this.setState({error: true, username: \"\", password: \"\"});\r\n            } else {\r\n                response.json().then(result => {\r\n                    // Store token in browser\r\n                    window.localStorage.setItem(\"key_credentials\", result.token);\r\n                    // Store permissions / role in browser\r\n                    let partitions = result.token.split('.');\r\n                    let tokenData = JSON.parse(atob(partitions[1]));\r\n                    window.localStorage.setItem(\"isAdmin\", tokenData.is_staff);\r\n                    // Flag that we've logged in before\r\n                    window.localStorage.setItem(\"loggedIn\", 'true');\r\n                    this.props.history.push(`/attendance`);\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const centerStyle={'textAlign':'center'}\r\n        const token = window.localStorage.getItem(\"key_credentials\");\r\n        if (token !== null) {\r\n            return (<Redirect to='/attendance'/>);\r\n        } else {\r\n            return (\r\n                <div className='center'>\r\n                    <div className='login-container'>\r\n                        <Well>\r\n                            <h2 style={centerStyle}>Key Attendance</h2>\r\n                                <h4 style={centerStyle}>Sign In</h4>\r\n                                    <form>\r\n                                        <FormGroup>\r\n                                            <ControlLabel>Username</ControlLabel>\r\n                                            <FormControl\r\n                                                type=\"text\"\r\n                                                value={this.state.username}\r\n                                                placeholder=\"Username\"\r\n                                                onChange={this.onUsernameChange}\r\n                                            />\r\n                                            <br/>\r\n                                            <ControlLabel>Password</ControlLabel>\r\n                                            <FormControl\r\n                                                type=\"password\"\r\n                                                value={this.state.password}\r\n                                                placeholder='Password'\r\n                                                 onChange={this.onPasswordChange}\r\n                                             />\r\n                                        </FormGroup>\r\n                                        <Button block onClick={this.submit} bsStyle=\"primary\">Continue</Button>\r\n                                        <br/>\r\n                                        {this.state.error && <Alert bsStyle='danger'>Invalid username or password. Please try again.</Alert>}\r\n                                        {!this.state.firstLogin && <Alert bsStyle='info'>You have been logged out.</Alert>}\r\n                                    </form>\r\n                                </Well>\r\n                            </div>\r\n                        </div> \r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Checkbox extends Component {\r\n    state = {\r\n        isChecked: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setState({ isChecked: this.props.checked, attendanceItemID: this.props.attendanceItemID ? this.props.attendanceItemID : 0 })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.checked !== this.state.isChecked) {\r\n            this.setState({ isChecked: this.props.checked })\r\n        }\r\n    }\r\n\r\n    // Handles checked/unchecked state of checkbox\r\n    toggleCheckboxChange = () => {\r\n        const { toggleCheckbox, label } = this.props;\r\n\r\n        this.setState(({ isChecked }) => (\r\n            {\r\n                isChecked: !isChecked,\r\n            }\r\n        ));\r\n        \r\n        toggleCheckbox(this.state.isChecked, label)\r\n    };\r\n\r\n    render() {\r\n        const { label } = this.props;\r\n        const { isChecked } = this.state;\r\n\r\n        return (\r\n            <span className=\"checkbox\">\r\n                <label>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        value={label}\r\n                        checked={isChecked}\r\n                        onChange={this.toggleCheckboxChange}\r\n                    />\r\n                    {label}\r\n                </label>\r\n            </span>\r\n        );\r\n    }\r\n}\r\n\r\nCheckbox.propTypes = {\r\n    label: PropTypes.string.isRequired,\r\n    toggleCheckbox: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Checkbox;\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport createBrowserHistory from 'history/createBrowserHistory';\r\n\r\n// Store helper functions that we'll probably re-use here!\r\n\r\nconst history = createBrowserHistory();\r\n\r\nfunction httpPost(url, body={}) {\r\n\tconst token = window.localStorage.getItem(\"key_credentials\");\r\n\r\n\t// if we don't have a token, we shouldn't be trying to call this function.\r\n\tif (token === null) {\r\n\t\thistory.push(`/`)\r\n\t\treturn\r\n\t}\r\n\r\n\treturn fetch(url, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {'Content-Type':'application/json', 'Authorization': 'JWT ' + token},\r\n\t\tbody: JSON.stringify(body)\r\n\t}).then(response => {\r\n\t\tif (response.status >= 400) {\r\n\t\t\t// Logout if we got a token validation error\r\n\t\t\tif (response.status === 403) {\r\n\t\t\t\twindow.localStorage.removeItem(\"key_credentials\");\r\n\t\t\t\thistory.push(`/`)\r\n\t\t\t}\r\n\t\t\treturn {'error':response.status}\r\n\t\t} else {\r\n\t\t\treturn response.json()\r\n\t\t}\r\n\t}); \r\n}\r\n\r\nfunction httpPatch(url, body={}) {\r\n\tconst token = window.localStorage.getItem(\"key_credentials\");\r\n\r\n\t// if we don't have a token, we shouldn't be trying to call this function.\r\n\tif (token === null) {\r\n\t\thistory.push(`/`)\r\n\t\treturn\r\n\t}\r\n\r\n\treturn fetch(url, {\r\n\t\tmethod: \"PATCH\",\r\n\t\theaders: {'Content-Type':'application/json', 'Authorization': 'JWT ' + token},\r\n\t\tbody: JSON.stringify(body)\r\n\t}).then(response => {\r\n\t\tif (response.status >= 400) {\r\n\t\t\t// Logout if we got a token validation error\r\n\t\t\tif (response.status === 403) {\r\n\t\t\t\twindow.localStorage.removeItem(\"key_credentials\");\r\n\t\t\t\thistory.push(`/`)\r\n\t\t\t}\r\n\t\t\treturn {'error':response.status}\r\n\t\t} else {\r\n\t\t\treturn response.json()\r\n\t\t}\r\n\t}); \r\n}\r\n\r\nfunction httpGet(url) {\r\n\tconst token = window.localStorage.getItem(\"key_credentials\");\r\n\t// if we don't have a token, we shouldn't be trying to call this function.\r\n\tif (token === null) {\r\n\t\thistory.push(`/`)\r\n\t\treturn\r\n\t}\r\n\r\n\treturn fetch(url, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {'Content-Type':'application/json', 'Authorization': 'JWT ' + token},\r\n\t}).then(response => {\r\n\t\tif (response.status >= 400) {\r\n\t\t\t// Logout if we got a token validation error\r\n\t\t\tif (response.status === 403) {\r\n\t\t\t\twindow.localStorage.removeItem(\"key_credentials\");\r\n\t\t\t\thistory.push(`/`)\r\n\t\t\t}\r\n\t\t\treturn {'error':response.status}\r\n\t\t} else {\r\n\t\t\treturn response.json()\r\n\t\t}\r\n\t}); \r\n}\r\n\r\nfunction httpDelete(url, body={}) {\r\n\tconst token = window.localStorage.getItem(\"key_credentials\");\r\n\r\n\t// if we don't have a token, we shouldn't be trying to call this function.\r\n\tif (token === null) {\r\n\t\thistory.push(`/`)\r\n\t\treturn\r\n\t}\r\n\r\n\treturn fetch(url, {\r\n\t\tmethod: \"DELETE\",\r\n\t\theaders: {'Content-Type':'application/json', 'Authorization': 'JWT ' + token},\r\n\t\tbody: JSON.stringify(body)\r\n\t}).then(response => {\r\n\t\tif (response.status >= 400) {\r\n\t\t\t// Logout if we got a token validation error\r\n\t\t\tif (response.status === 403) {\r\n\t\t\t\twindow.localStorage.removeItem(\"key_credentials\");\r\n\t\t\t\thistory.push(`/`)\r\n\t\t\t}\r\n\t\t\treturn {'error':response.status}\r\n\t\t} else {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t}); \r\n}\r\n\r\nfunction compareActivities(a,b) {\r\n\tif (a.ordering < b.ordering)\r\n\t  return -1;\r\n\tif (a.ordering > b.ordering)\r\n\t  return 1;\r\n\treturn 0;\r\n}\r\n\r\nasync function downloadAttendanceCSV(startDate, endDate=null) {\r\n\t// Get data\r\n\tconst url = (startDate === endDate || endDate === null) ? `http://127.0.0.1:8000/api/attendance/?day=${startDate}` : `http://127.0.0.1:8000/api/attendance/?startdate=${startDate}&enddate=${endDate}`;\r\n\tconst attendanceData = await httpGet(url);\r\n\tconst studentData = await httpGet('http://127.0.0.1:8000/api/students/');\r\n\tconst activityData = await httpGet(`http://127.0.0.1:8000/api/activities/`);\r\n\tactivityData.sort(compareActivities) // Make sure that our columns are in a consistent order\r\n\r\n\t// Make sure we got the data we came for.\r\n\tif (attendanceData.length === 0 || activityData.length === 0) {\r\n\t\treturn\r\n\t}\r\n\r\n\t// Build activity lookup table\r\n\tvar activities = {}\r\n\tfor (var i = 0; i < activityData.length; i++) {\r\n\t\tif (activityData[i].is_showing) {\r\n\t\t\tactivities[activityData[i].name] = {'id': activityData[i].activity_id, 'ordering': activityData[i].ordering}\r\n\t\t}\r\n\t}\r\n\r\n\t// Combine attendance items. Need to sort by date and student id.\r\n\tvar entries = {}\r\n\tfor (var i = 0; i < attendanceData.length; i++) {\r\n\t\tif (entries[`${attendanceData[i].student_id}${attendanceData[i].date}`] == null) {\r\n\t\t\tentries[`${attendanceData[i].student_id}${attendanceData[i].date}`] = {'date':attendanceData[i].date, 'id': attendanceData[i].student_id}\r\n\t\t}\r\n\t\tentries[`${attendanceData[i].student_id}${attendanceData[i].date}`][attendanceData[i].activity_id] = 'Y'\r\n\t}\r\n\r\n\t// Build spreadsheet\r\n\tvar sheet = []\r\n\tvar columns = ['Date','First', 'Last', 'Student Key']\r\n\tfor (var i = 0; i < activityData.length; i++) {\r\n\t\tcolumns.push(activityData[i].name)\r\n\t}\r\n\tconst keys = Object.keys(entries)\r\n\tfor (var i = 0; i < keys.length ; i++) {\r\n\t\tvar row = []\r\n\t\t// match student data to current id\r\n\t\tfor (var j = 0; j < studentData.length; j++) { // unfortunately, student data isn't in any particular order. O(n) it is!\r\n\t\t\tif (studentData[j].id === entries[keys[i]].id) {\r\n\t\t\t\trow[1] = studentData[j].first_name;\r\n\t\t\t\trow[2] = studentData[j].last_name;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} \r\n\t\tfor (var j = 0; j < columns.length; j++) {\r\n\t\t\tswitch (columns[j]) {\r\n\t\t\t\tcase 'Date':\r\n\t\t\t\t\trow[j] = entries[keys[i]].date\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'First':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Last':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Student Key':\r\n\t\t\t\t\trow[j] = 'N/A' // Needs student keys to be added to the database\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// If this row has a value for this column, put it in the table. Else plop an 'N' in this column.\r\n\t\t\t\t\tif (entries[keys[i]][activities[columns[j]].id] != null) {\r\n\t\t\t\t\t\trow[j] = entries[keys[i]][activities[columns[j]].id];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\trow[j] = 'N';\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsheet.push(row);\r\n\t}\r\n\r\n\t// Put data in a CSV\r\n\tvar papa = require('papaparse') // a strangely named but fairly effective CSV library\r\n\tvar csvString = papa.unparse({\r\n\t\tfields: columns,\r\n\t\tdata: sheet\r\n\t});\r\n\r\n\t// Download - it's a lil janky but it works. Thanks, stackoverflow!\r\n\tvar element = document.createElement('a');\r\n\telement.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(csvString));\r\n\telement.setAttribute('download', `Attendance_${(startDate === endDate || endDate === null) ? startDate : `${startDate}_${endDate}`}.csv`);\r\n\telement.style.display = 'none';\r\n\tdocument.body.appendChild(element);\r\n\telement.click();\r\n\tdocument.body.removeChild(element);\r\n}\r\n\r\n// Makes sure that we have a token, else redirects to login screen\r\nconst checkCredentials = (Component) => {\r\n\tconst token = window.localStorage.getItem(\"key_credentials\");\r\n\tif (token === null) {\r\n\t\treturn <Redirect to='/'/>\r\n\t} else {\r\n\t\treturn <Component/>;\r\n\t}\r\n}\r\n\r\n// Only allows a component to render if the proper role is stored\r\nconst withRole = (Component, role) => {\r\n\tconst storedRole = window.localStorage.getItem(\"role\");\r\n\tif (storedRole !== role) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn <Component/>;\r\n\t}\r\n}\r\n\r\nexport { downloadAttendanceCSV, compareActivities, httpPost, httpPatch, httpGet, httpDelete, checkCredentials, history, withRole }","import React from 'react';\r\nimport Checkbox from'./Checkbox.js'\r\nimport { Label } from 'react-bootstrap';\r\nimport { httpDelete, httpPost } from './Helpers';\r\n\r\nclass Checkboxes extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            activities: {},\r\n            studentID: 0,\r\n            error: \"\",\r\n            numChecked: 0,\r\n        }\r\n\r\n        this.toggleCheckbox = this.toggleCheckbox.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        let numChecked = 0;\r\n        const activities = this.props.row['activities']\r\n        const keys = Object.keys(activities);\r\n        for (let i = 0; i < keys.length; i++) {\r\n            if (activities[keys[i]].value === true) {\r\n                numChecked++;\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            activities: activities,\r\n            studentID: this.props.row.studentID,\r\n            numChecked: numChecked\r\n        });\r\n    }\r\n\r\n    // Makes sure that the checkbox reflects whether it has been selected\r\n    toggleCheckbox = (isChecked, label) => {\r\n        const { activities, studentID, numChecked } = this.state;\r\n        var self = this; // This is a cheap hack so the .then() function can have access to state\r\n\r\n        // Get attendanceItemID, studentID, activityID from activities\r\n        const activityID = activities[label].activityID\r\n        const attendanceItemID = activities[label].attendanceItemID\r\n\r\n        // Carry out API actions\r\n        if (!isChecked) {\r\n            // Add attendanceItem to database\r\n            const today = new Date()\r\n            httpPost('http://127.0.0.1:8000/api/attendance/', {\r\n                \"student_id\": studentID,\r\n                \"activity_id\": activityID,\r\n                \"date\":`${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`,\r\n                \"time\":`${today.getHours()}:${today.getMinutes() > 10 ? today.getMinutes() : `0${today.getMinutes()}`}:${today.getSeconds() > 10 ? today.getSeconds() : `0${today.getSeconds()}`}`,\r\n            }).then(function(result) {\r\n                // Update state to refresh checkboxes\r\n                if ('error' in result) {\r\n                    self.setState({error: result.error})\r\n                } else {\r\n                    activities[label].value = true;\r\n                    activities[label].attendanceItemID = result.id;\r\n                    self.setState({activities: activities, numChecked: numChecked + 1})\r\n                }\r\n            });\r\n        } else {\r\n            // Remove attendanceItem from the database\r\n            if (numChecked === 1) {\r\n                // We're trying to uncheck the last checkbox\r\n                // show some sort of visual error??\r\n            } else {\r\n                httpDelete(`http://127.0.0.1:8000/api/attendance?key=${attendanceItemID}`).then(function(result) {\r\n                    if ('error' in result) {\r\n                        self.setState({error: result.error})\r\n                    } else {\r\n                        activities[label].value = false;\r\n                        self.setState({activities: activities, numChecked: numChecked - 1})\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    // Creates a checkbox for each activity\r\n    createCheckboxes = () => {\r\n        const { activities } = this.state;\r\n        const keys = Object.keys(activities);\r\n        var boxes = [];\r\n        for (var i = 0; i < keys.length; i++) {\r\n            boxes.push(\r\n                <Checkbox\r\n                    label={keys[i]}\r\n                    key={keys[i]}\r\n                    checked={activities[keys[i]].value}\r\n                    toggleCheckbox={this.toggleCheckbox}\r\n                />\r\n            )\r\n        }\r\n        return boxes;\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <span className=\"container\">\r\n                <span className=\"row\">\r\n                    <span className=\"col-sm-12\">\r\n                        {this.state.numChecked < 2 && <Label bsStyle=\"warning\">At least one box must be checked</Label>}\r\n                        {this.state.error !== \"\" && <Label bsStyle=\"danger\">Error {this.state.error}: Your changes have not been saved. Please refresh and try again.</Label>}\r\n                        {this.createCheckboxes()}\r\n                    </span>\r\n                </span>\r\n            </span>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Checkboxes;\r\n","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { httpDelete } from './Helpers';\r\n\r\nclass AttendanceOptions extends React.Component {\r\n    \r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            row: {},\r\n        }\r\n\r\n        this.deleteRow = this.deleteRow.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            row: this.props.row,\r\n        });\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.row['studentID'] !== this.state.row['studentID']) {\r\n            this.setState({\r\n                row: this.props.row,\r\n            })\r\n        }\r\n    }\r\n\r\n    deleteRow() {\r\n        const { row } = this.state;\r\n        const activities = row['activities']\r\n        const keys = Object.keys(activities);\r\n        let ids = [];\r\n\r\n        // figure out what to delete\r\n        for (let i = 0; i < keys.length; i++) {\r\n            if (activities[keys[i]].attendanceItemID !== 0) {\r\n                ids.push(activities[keys[i]].attendanceItemID)\r\n            }\r\n        }\r\n\r\n        // delete the things\r\n        for (let i = 0; i < ids.length; i++) {\r\n            httpDelete(`http://127.0.0.1:8000/api/attendance/?key=${ids[i]}`);\r\n        }\r\n\r\n        this.props.CustomFunction(row['studentID']);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <Button bsStyle=\"danger\" onClick={this.deleteRow}>Delete</Button>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AttendanceOptions;\r\n","import React from 'react';\r\nimport { Button, Modal, FormGroup, FormControl, ControlLabel, HelpBlock } from 'react-bootstrap';\r\nimport { httpPost } from './Helpers';\r\n\r\nclass AddStudentModal extends React.Component {\r\n    \r\n    constructor(props) {\r\n\t\tsuper(props)\r\n\t\t\r\n        this.state = {\r\n\t\t\tfirstName: \"\",\r\n\t\t\tlastName:\"\",\r\n\t\t}\r\n\t\t\r\n\t\tthis.cancel = this.cancel.bind(this);\r\n\t\tthis.submit = this.submit.bind(this);\r\n\t\tthis.onFirstNameChange = this.onFirstNameChange.bind(this);\r\n\t\tthis.onLastNameChange = this.onLastNameChange.bind(this);\r\n\t}\r\n\r\n\tvalidateInput() {\r\n\t\tconst { firstName, lastName } = this.state;\r\n\t\tif (firstName.length > 0 && lastName.length > 0) {\r\n\t\t\treturn 'success';\r\n\t\t} else if (firstName.length === 0 && lastName.length === 0) {\r\n\t\t\treturn null;\r\n\t\t} else {\r\n\t\t\treturn 'error';\r\n\t\t}\r\n\t}\r\n\r\n\tonFirstNameChange(e) {\r\n\t\tthis.setState({firstName: e.target.value})\r\n\t}\r\n\r\n\tonLastNameChange(e) {\r\n\t\tthis.setState({lastName: e.target.value})\r\n\t}\r\n\t\r\n\tcancel() {\r\n\t\tthis.props.onSubmit();\r\n\t}\r\n\r\n\tsubmit() {\r\n\t\tconst self = this;\r\n\t\thttpPost('http://127.0.0.1:8000/api/students/', {\r\n\t\t\tfirst_name: this.state.firstName,\r\n\t\t\tlast_name: this.state.lastName\r\n\t\t}).then(function(result) {\r\n\t\t\tif ('error' in result) {\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t} else {\r\n\t\t\t\tself.props.onSubmit(result);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n    render() {\r\n        return(\r\n            <Modal show={this.props.show}>\r\n\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t<Modal.Title>Create New Student</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<form>\r\n\t\t\t\t\t\t<FormGroup\r\n\t\t\t\t\t\t\tcontrolId=\"addStudentForm\"\r\n\t\t\t\t\t\t\tvalidationState={this.validateInput()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ControlLabel>First Name</ControlLabel>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.firstName}\r\n\t\t\t\t\t\t\t\tplaceholder=\"First\"\r\n\t\t\t\t\t\t\t\tonChange={this.onFirstNameChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<FormControl.Feedback />\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<ControlLabel>Last Name</ControlLabel>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.lastName}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Last\"\r\n\t\t\t\t\t\t\t\tonChange={this.onLastNameChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<FormControl.Feedback />\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button onClick={this.cancel}>Cancel</Button>\r\n\t\t\t\t\t<Button onClick={this.submit} bsStyle=\"primary\">Create</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddStudentModal;\r\n","/*\r\n *  https://alligator.io/react/react-autocomplete/\r\n */\r\n\r\nimport React, { Component, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Autocomplete.css\"\r\nimport { Form, FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\r\n\r\nclass Autocomplete extends Component {\r\n  static propTypes = {\r\n    suggestions: PropTypes.instanceOf(Array),\r\n    handler: PropTypes.instanceOf(Function)\r\n  };\r\n\r\n  static defaultProps = {\r\n    suggestions: [],\r\n    handler: null\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      // The active selection's index\r\n      activeSuggestion: 0,\r\n      // The suggestions that match the user's input\r\n      filteredSuggestions: [],\r\n      // Whether or not the suggestion list is shown\r\n      showSuggestions: false,\r\n      // What the user has entered\r\n      userInput: \"\"\r\n    };\r\n  }\r\n\r\n  // Event fired when the input value is changed\r\n  onChange = e => {\r\n    const { suggestions } = this.props;\r\n    const userInput = e.currentTarget.value;\r\n\r\n    // Filter our suggestions that don't contain the user's input\r\n    const filteredSuggestions = suggestions.filter(\r\n      suggestion =>\r\n        (suggestion.firstName.toLowerCase().startsWith(userInput.toLowerCase()) === true ||\r\n          suggestion.lastName1.toLowerCase().startsWith(userInput.toLowerCase()) === true ||\r\n          suggestion.lastName2.toLowerCase().startsWith(userInput.toLowerCase()) === true ||\r\n          suggestion.id.toString().startsWith(userInput.toLowerCase()) === true ||\r\n          (suggestion.firstName.toLowerCase() + \" \" +\r\n            suggestion.lastName1.toLowerCase() + \" \" +\r\n            suggestion.id.toString()).startsWith(userInput.toLowerCase()) === true)\r\n    );\r\n\r\n    // Update the user input and filtered suggestions, reset the active\r\n    // suggestion and make sure the suggestions are shown\r\n    this.setState({\r\n      activeSuggestion: 0,\r\n      filteredSuggestions,\r\n      showSuggestions: true,\r\n      userInput: e.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  // Event fired when the user clicks on a suggestion\r\n  onClick = e => {\r\n    // Update the user input and reset the rest of the state\r\n    this.setState({\r\n      activeSuggestion: 0,\r\n      filteredSuggestions: [],\r\n      showSuggestions: false,\r\n      userInput: e.currentTarget.innerText\r\n    });\r\n    this.props.handler(e, e._targetInst.key);\r\n    this.setState({ userInput: \"\" });\r\n  };\r\n\r\n  // Prevents React's form from overriding our code when hitting enter\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  // Event fired when the user presses a key down\r\n  onKeyDown = e => {\r\n    const { activeSuggestion, filteredSuggestions } = this.state;\r\n\r\n    // User pressed the enter key, update the input and close the\r\n    // suggestions\r\n    if (e.keyCode === 13 && this.state.activeSuggestion === -1) {\r\n      this.props.handler(e, this.state.selectedId)\r\n      this.setState({ userInput: \"\" });\r\n    }\r\n    else if (e.keyCode === 13) {\r\n      if (typeof filteredSuggestions[activeSuggestion] === 'object') {\r\n        var fullName = (filteredSuggestions[activeSuggestion].firstName + \" \" +\r\n          filteredSuggestions[activeSuggestion].lastName1)\r\n        this.setState({\r\n          activeSuggestion: -1,\r\n          showSuggestions: false,\r\n          userInput: fullName,\r\n          selectedId: filteredSuggestions[activeSuggestion].id\r\n        });\r\n      }\r\n\r\n    }\r\n    // User pressed the up arrow, decrement the index\r\n    else if (e.keyCode === 38) {\r\n      if (activeSuggestion === 0) {\r\n        return;\r\n      }\r\n\r\n      this.setState({ activeSuggestion: activeSuggestion - 1 });\r\n      this.scrollUpHandler();\r\n    }\r\n    // User pressed the down arrow, increment the index\r\n    else if (e.keyCode === 40) {\r\n      if (activeSuggestion === filteredSuggestions.length - 1) {  // Improvements should be made\r\n        return;\r\n      }\r\n\r\n      this.setState({ activeSuggestion: activeSuggestion + 1 });\r\n      this.scrollDownHandler();\r\n    }\r\n  };\r\n\r\n  //temp fix for autoscroll when user presss down arrow through dropdown menu\r\n  scrollDownHandler() {\r\n    var dropdown = document.getElementsByClassName(\"suggestions\");\r\n    var activeItem = document.getElementsByClassName(\"suggestion-active\");\r\n    var itemHeight = activeItem[0].getBoundingClientRect().height;\r\n    var scrollPos = dropdown[0].scrollTop;\r\n    var dropdownHeight = dropdown[0].getBoundingClientRect().height;\r\n    var halfway = Math.round(Math.round(dropdownHeight / itemHeight) / 2) * itemHeight;\r\n    if (((this.state.activeSuggestion + 2) * itemHeight) >= scrollPos + dropdownHeight) {\r\n      dropdown[0].scrollTop = dropdown[0].scrollTop + halfway;\r\n    }\r\n  }\r\n\r\n  //temp fix for autoscroll when user presss up arrow through dropdown menu\r\n  scrollUpHandler() {\r\n    var dropdown = document.getElementsByClassName(\"suggestions\");\r\n    var activeItem = document.getElementsByClassName(\"suggestion-active\");\r\n    var itemHeight = activeItem[0].getBoundingClientRect().height;\r\n    var scrollPos = dropdown[0].scrollTop;\r\n    var dropdownHeight = dropdown[0].getBoundingClientRect().height;\r\n    var halfway = Math.round(Math.round(dropdownHeight / itemHeight) / 2) * itemHeight;\r\n    if (((this.state.activeSuggestion - 1) * itemHeight) <= scrollPos) {\r\n      dropdown[0].scrollTop = dropdown[0].scrollTop - halfway;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      onChange,\r\n      onClick,\r\n      onKeyDown,\r\n      handleSubmit,\r\n      state: {\r\n        activeSuggestion,\r\n        filteredSuggestions,\r\n        showSuggestions,\r\n        userInput\r\n      }\r\n    } = this;\r\n\r\n    let suggestionsListComponent;\r\n\r\n    if (showSuggestions && userInput) {\r\n      if (filteredSuggestions.length) {\r\n        suggestionsListComponent = (\r\n          <div className=\"suggestions\">\r\n            {filteredSuggestions.map((suggestion, index) => {\r\n              let className;\r\n\r\n              // Flag the active suggestion with a class\r\n              if (index === activeSuggestion) {\r\n                className = \"suggestion-active\";\r\n              }\r\n\r\n              return (\r\n                <p\r\n                  className={className}\r\n                  key={suggestion.id}\r\n                  onClick={onClick}\r\n                >\r\n                  {suggestion.firstName} {suggestion.lastName1} {suggestion.lastName2}\r\n                </p>\r\n              );\r\n            })}\r\n          </div>\r\n        );\r\n      } else {\r\n        suggestionsListComponent = (\r\n          <div className=\"no-suggestions\">\r\n            <em>No suggestions.</em>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <Form inline\r\n          onSubmit={handleSubmit}>\r\n          <FormGroup\r\n            controlId=\"formInlineName\"\r\n          >\r\n            <ControlLabel>Search:</ControlLabel>{' '}\r\n            <FormControl\r\n              autoComplete=\"off\"\r\n              type=\"text\"\r\n              value={userInput}\r\n              onChange={onChange}\r\n              onKeyDown={onKeyDown}\r\n              placeholder=\"Name or ID\"\r\n            />\r\n            {suggestionsListComponent}\r\n          </FormGroup>{' '}\r\n        </Form>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Autocomplete;\r\n","import React from 'react';\r\nimport ReactCollapsingTable from 'react-collapsing-table';\r\nimport Checkboxes from '../components/Checkboxes';\r\nimport AttendanceOptions from '../components/AttendanceOptions';\r\nimport AddStudentModal from '../components/AddStudentModal';\r\nimport Autocomplete from \"../components/Autocomplete\";\r\nimport { httpPost, httpGet } from '../components/Helpers';\r\nimport { Button, ButtonToolbar } from 'react-bootstrap';\r\nimport { downloadAttendanceCSV, compareActivities } from '../components/Helpers';\r\n\r\nclass Attendance extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            buildingCSV: false,\r\n            students: [],\r\n            activities: [],\r\n            attendanceItems: [],\r\n            suggestionsArray: [],\r\n            attendance: [],\r\n            showStudentModal: false,\r\n        }\r\n\r\n        this.downloadCSV = this.downloadCSV.bind(this);\r\n        this.addStudent = this.addStudent.bind(this);\r\n        this.removeAttendanceRow = this.removeAttendanceRow.bind(this);\r\n        this.openModal = this.openModal.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        try {\r\n            const today = new Date();\r\n            const students = await httpGet('http://127.0.0.1:8000/api/students/');\r\n            const attendanceItems = await httpGet(`http://127.0.0.1:8000/api/attendance/?day=${`${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`}`);\r\n            const activities = await httpGet('http://127.0.0.1:8000/api/activities/');\r\n            activities.sort(compareActivities)\r\n            const suggestions = this.makeSuggestionsArray(students);\r\n\r\n            this.setState({\r\n                suggestionsArray: suggestions,\r\n                students: students,\r\n                activities: activities,\r\n                attendanceItems: attendanceItems\r\n            });\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n        this.buildSheet();\r\n    }\r\n\r\n    buildSheet() {\r\n        const { activities, attendanceItems, students } = this.state;\r\n        // Combine attendance items. Need to sort by student id.\r\n        var entries = {};\r\n        for (var i = 0; i < attendanceItems.length; i++) {\r\n            if (attendanceItems[i].activity_id === -1) {\r\n                continue;\r\n            }\r\n            if (entries[`${attendanceItems[i].student_id}`] == null) {\r\n                entries[`${attendanceItems[i].student_id}`] = {'time':attendanceItems[i].time};\r\n            }\r\n            entries[`${attendanceItems[i].student_id}`][attendanceItems[i].activity_id] = {'value':true, 'itemID':attendanceItems[i].id};\r\n        }\r\n\r\n        // Build table of the form [{name, activity1, ... , activityn, time}]\r\n        var sheet = [];\r\n        const ids = Object.keys(entries);\r\n        var columns = ['Name'];\r\n        for (var i = 0; i < activities.length; i++) {\r\n            columns.push(activities[i].name);\r\n        }\r\n        for (var i = 0; i < ids.length; i++) {\r\n            var row = {}\r\n            // match student data to current id\r\n            for (var j = 0; j < students.length; j++) { // unfortunately, student data isn't in any particular order. O(n) it is!\r\n                if (students[j].id === parseInt(ids[i])) {\r\n                    row['name'] = `${students[j].first_name} ${students[j].last_name}`;\r\n                    row['studentID'] = students[j].id;\r\n                    break;\r\n                }\r\n            } \r\n            row['time'] = entries[ids[i]].time;\r\n            row['activities'] = {};\r\n            // fill in activities data\r\n            for (var j = 0; j < activities.length; j++) {\r\n                row['activities'][activities[j].name] = {\r\n                    'value': (entries[ids[i]][activities[j].activity_id]) ? true : false,\r\n                    'activityID': activities[j].activity_id,\r\n                    'attendanceItemID': (entries[ids[i]][activities[j].activity_id]) ? entries[ids[i]][activities[j].activity_id].itemID : 0,\r\n                }\r\n            }\r\n            sheet.push(row)\r\n        }\r\n\r\n        this.setState({ attendance: sheet });\r\n    }\r\n\r\n    addStudent(e, studentID) {\r\n        const { students, attendance, activities } = this.state;\r\n        const today = new Date();\r\n        const self = this;\r\n\r\n        // make sure we don't already have this student.\r\n        for (let i = 0; i < attendance.length; i++) {\r\n            if (parseInt(studentID) === attendance[i].studentID) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        httpPost('http://127.0.0.1:8000/api/attendance/', {\r\n            \"student_id\": studentID,\r\n            \"activity_id\": 7, // Key    \r\n            \"date\":`${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`,\r\n            \"time\":`${today.getHours()}:${today.getMinutes() > 10 ? today.getMinutes() : `0${today.getMinutes()}`}:${today.getSeconds() > 10 ? today.getSeconds() : `0${today.getSeconds()}`}`,\r\n        }).then(function(result) {\r\n            // Add new row to table\r\n            let name = \"\";\r\n            for (var j = 0; j < students.length; j++) {\r\n                if (students[j].id === parseInt(studentID)) {\r\n                    name = `${students[j].first_name} ${students[j].last_name}`;\r\n                    break;\r\n                }\r\n            } \r\n\r\n            let activityList = {};\r\n            for (var j = 0; j < activities.length; j++) {\r\n                activityList[activities[j].name] = {\r\n                    'activityID': activities[j].activity_id,\r\n                    'attendanceItemID': 0,\r\n                    'value': false,\r\n                }\r\n            }\r\n            activityList['Key']['value'] = true;\r\n            activityList['Key']['attendanceItemID'] = result.id;\r\n\r\n            const row = {'name': name, 'studentID': parseInt(studentID), 'time': result.time, 'activities':activityList};\r\n            attendance.push(row);\r\n            self.setState({attendance: attendance});\r\n        });\r\n    }\r\n\r\n    makeSuggestionsArray(suggestions) {\r\n        var array = [];\r\n        var lastHolder1;\r\n        var lastHolder2;\r\n        var tempArray;\r\n        for (var object in suggestions) {\r\n            if (suggestions[object]['last_name'].includes(\" \")) {\r\n                tempArray = suggestions[object]['last_name'].split(\" \");\r\n                lastHolder1 = tempArray[0];\r\n                lastHolder2 = tempArray[1];\r\n            }\r\n            else {\r\n                lastHolder1 = suggestions[object]['last_name'];\r\n                lastHolder2 = \"\";\r\n            }\r\n            array.push({\r\n                firstName: suggestions[object]['first_name'],\r\n                lastName1: lastHolder1,\r\n                lastName2: lastHolder2,\r\n                id: suggestions[object]['id']\r\n            });\r\n        }\r\n        return array;\r\n    }\r\n\r\n    downloadCSV() {\r\n        const today = new Date()\r\n        this.setState({ buildingCSV: true });\r\n        downloadAttendanceCSV(`${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`)\r\n        this.setState({ buildingCSV: false });\r\n    }\r\n\r\n    // Allows the AttendanceOptions object to  update state here\r\n    removeAttendanceRow(studentID) {\r\n        const { attendance } = this.state;\r\n        for (let i = 0; i < attendance.length; i++) {\r\n            if (attendance[i].studentID === studentID) {\r\n                attendance.splice(i, 1);\r\n            }\r\n        }\r\n        this.setState({attendance: attendance});\r\n    }\r\n\r\n    openModal() {\r\n        this.setState({showStudentModal: true});\r\n    }\r\n\r\n    closeModal(student=null) {\r\n        const { students } = this.state;\r\n        let suggestions = []\r\n\r\n        if (student !== null) {\r\n            // First, add student to students list\r\n            students.push({'first_name': student.first_name, 'last_name': student.last_name, 'id': student.id});\r\n            suggestions = this.makeSuggestionsArray(students);\r\n            // Then, add student to the array.\r\n            this.addStudent(null, student.id);\r\n        }\r\n\r\n        this.setState({showStudentModal: false, students: students, suggestions: suggestions});\r\n    }\r\n\r\n    render() {\r\n        const rows = this.state.attendance.map(item =>\r\n            (\r\n               {\r\n                   name: item.name,\r\n                   time: item.time,\r\n                   activities: item.activities,\r\n                   studentID: item.studentID\r\n               }\r\n           )\r\n        ).sort((a, b) => {\r\n            return b.time.localeCompare(a.time); // For some reason the table doesn't automatically sort.\r\n        });\r\n\r\n        const columns = [\r\n            {\r\n                accessor: 'name',\r\n                label: 'Name',\r\n                priorityLevel: 1,\r\n                position: 1,\r\n                minWidth: 100,\r\n                sortable: true\r\n            },\r\n            {\r\n                accessor: 'time',\r\n                label: 'Check-in Time',\r\n                priorityLevel: 2,\r\n                position: 2,\r\n                minWidth: 100,\r\n                sortable: true\r\n            },\r\n            {\r\n                accessor: 'options',\r\n                label: 'Options',\r\n                priorityLevel: 3,\r\n                position: 3,\r\n                CustomComponent: AttendanceOptions,\r\n                sortable: false,\r\n                minWidth: 100\r\n            },\r\n            { \r\n                accessor: 'activities',\r\n                label: 'Activities',\r\n                priorityLevel: 4,\r\n                position: 4,\r\n                minWidth: 2000,\r\n                CustomComponent: Checkboxes,\r\n                sortable: false, \r\n            }\r\n        ];\r\n\r\n        const buildingCSV = this.state.buildingCSV;\r\n        const today = new Date()\r\n\r\n        return (\r\n            <div className='content'>\r\n                <AddStudentModal show={this.state.showStudentModal} onSubmit={this.closeModal}/>\r\n                <h1>Attendance for {today.getMonth() + 1}-{today.getDate()}-{today.getFullYear()}</h1>\r\n                <br/>\r\n                <ButtonToolbar style={{ float: 'right'}}>\r\n                    <Button onClick={this.openModal}>New Student</Button>\r\n                    <Button onClick={this.downloadCSV} disabled={buildingCSV}>{buildingCSV ? 'Downloading...' : 'Download'}</Button>\r\n                </ButtonToolbar>\r\n                <Autocomplete\r\n\t\t\t\t\tsuggestions={this.state.suggestionsArray}\r\n\t\t\t\t\thandler={this.addStudent}\r\n\t\t\t\t/>\r\n                <br/>\r\n                <ReactCollapsingTable\r\n                        rows = { rows }\r\n                        columns = { columns }\r\n                        column = {'time'}\r\n                        direction = {'descending'}\r\n                        showPagination={ true }\r\n                        callbacks = {{'options':this.removeAttendanceRow}}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Attendance;","import React, { Component } from 'react';\r\nimport Autocomplete from '../components/Autocomplete';\r\nimport { Label } from 'react-bootstrap';\r\nimport { httpGet } from '../components/Helpers';\r\n\r\nclass Students extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mode: 'search',\r\n      studentsJson: {},\r\n      suggestionsArray: [],\r\n      id: null,\r\n      profileData: {}\r\n    };\r\n    this.handler = this.handler.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      var studentsJson = await httpGet('http://127.0.0.1:8000/api/students/');\r\n      var suggestionsArray = this.makeSuggestionsArray(studentsJson);\r\n      this.setState(function (previousState, currentProps) {\r\n        return {\r\n          mode: 'search',\r\n          studentsJson: studentsJson,\r\n          suggestionsArray: suggestionsArray,\r\n          id: null,\r\n          profileData: {}\r\n        };\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  makeSuggestionsArray(suggestions) {\r\n    var array = [];\r\n    var lastHolder1;\r\n    var lastHolder2;\r\n    var tempArray;\r\n    for (var object in suggestions) {\r\n      if (suggestions[object]['last_name'].includes(\" \")) {\r\n        tempArray = suggestions[object]['last_name'].split(\" \");\r\n        lastHolder1 = tempArray[0];\r\n        lastHolder2 = tempArray[1];\r\n      }\r\n      else {\r\n        lastHolder1 = suggestions[object]['last_name'];\r\n        lastHolder2 = \"\";\r\n      }\r\n      array.push({\r\n        firstName: suggestions[object]['first_name'],\r\n        lastName1: lastHolder1,\r\n        lastName2: lastHolder2,\r\n        id: suggestions[object]['id']\r\n      });\r\n    }\r\n    return array;\r\n  }\r\n\r\n  handler(e, studentId) {\r\n    var state = {\r\n      mode: 'display',\r\n      id: studentId\r\n    };\r\n    this.getStudentProfile(state);\r\n  }\r\n\r\n  async getStudentProfile(state) {\r\n    try {\r\n      const studentProfileJson = await httpGet('http://127.0.0.1:8000/api/students/?id=' + state.id);\r\n      state.profileData = studentProfileJson;\r\n      this.setState(function (previousState, currentProps) {\r\n        return state;\r\n      });\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.mode === 'search') {\r\n      return (\r\n        <div className='content'>\r\n          <h1> Key Students </h1>\r\n\t\t\t  \t<div className='container-fluid no-padding'>\r\n\t\t\t\t\t<div className='row justify-content-start'>\r\n\t\t\t\t  \t\t<div className='col-md-12 to-front top-bottom-padding'>\r\n\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\tsuggestions={this.state.suggestionsArray}\r\n\t\t\t\t\t\t\t\thandler={this.handler}\r\n\t\t\t\t\t\t  \t/>\r\n\t\t  \t\t\t\t</div>\r\n\t\t  \t\t\t</div>\r\n\t\t  \t\t</div>  \r\n        </div>\r\n      );\r\n    } else if (this.state.mode === 'display') {\r\n      return (\r\n        <div className='content'>\r\n          <h1> Student Profile </h1>\r\n\t\t  <div className='container-fluid no-padding'>\r\n  \t\t\t<div className='row justify-content-start'>\r\n\t\t\t  <div className='col-md-4 to-front top-bottom-padding'>\r\n\t\t\t\t  <Autocomplete\r\n\t\t\t\t\tsuggestions={this.state.suggestionsArray}\r\n\t\t\t\t\thandler={this.handler}\r\n\t\t\t\t  />\r\n\t\t\t  </div>\r\n\t\t\t  <div className='col-md-8 top-bottom-padding'>\r\n\t\t\t\tName: {this.state.profileData.first_name} {this.state.profileData.last_name} <br/>\r\n                ID: <Label>N/A</Label> <br/>\r\n                Birthday: xx/xx/xxxx <br/>\r\n                Nickname: N/A <br/>\r\n                Gender: N/A <br/>\r\n                First Attendance: {this.state.profileData.first_attendance} <br/>\r\n                Number of Visits: {this.state.profileData.number_visits} <br/>\r\n\t\t\t  </div>\r\n        \t</div>\r\n\t\t  </div>\r\n\t\t</div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Students;\r\n","import React from 'react';\r\n\r\nclass Reports extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className='content'>\r\n                <p>Reports</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Reports;","import React from 'react';\r\n\r\nclass Admin extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className='content'>\r\n                <p>Admin</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Admin;","import React from 'react';\r\n\r\nclass Alerts extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className='content'>\r\n                <p>Alerts</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Alerts;","import React from 'react';\r\nimport  { Link } from 'react-router-dom';\r\nimport { Jumbotron } from 'react-bootstrap';\r\n\r\nclass NotFound extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className='content'>\r\n                <Jumbotron> \r\n                    <div className='content-jumbotron'>\r\n                        <h1>\r\n                            404 <small>page not found</small>\r\n                        </h1>\r\n                        <p>\r\n                            The page you're looking for has mysteriously disappeared! \r\n                            Try navigating from <Link to='/attendance'>the home page</Link> to take another look.\r\n                        </p>\r\n                    </div>\r\n                </Jumbotron>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport { Route, Switch, withRouter } from 'react-router';\r\nimport Layout from './Layout';\r\nimport Login from '../views/Login';\r\nimport Attendance from '../views/Attendance';\r\nimport Students from '../views/Students';\r\nimport Reports from '../views/Reports';\r\nimport Admin from '../views/Admin';\r\nimport Alerts from '../views/Alerts';\r\nimport NotFound from '../views/NotFound';\r\nimport { checkCredentials } from './Helpers';\r\n\r\nclass Router extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <Layout show={this.props.location.pathname !== '/'}>\r\n                <Switch>\r\n                    <Route exact path='/' component={Login}/>\r\n                    <Route exact path='/attendance' render={() => checkCredentials(Attendance)}/>\r\n                    <Route path='/students' component={(props) => checkCredentials(Students)}/> {/* Referencing the component this way causes a re-mount every time the NavBar button is clicked, which solves our problem of refreshing the page but costs some performance in teh frontend and calls to the database */}\r\n                    <Route path='/reports' render={() => checkCredentials(Reports)}/>\r\n                    <Route path='/admin' render={() => checkCredentials(Admin)}/>\r\n                    <Route path='/alerts' render={() => checkCredentials(Alerts)}/>\r\n                    <Route render={() => checkCredentials(NotFound)}/>\r\n                </Switch>\r\n            </Layout>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Router);","import React, { Component } from 'react';\r\nimport Router from './components/Router';\r\nimport { history } from './components/Helpers'\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Router history={history}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <App />\r\n    </BrowserRouter>, \r\n    document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}